{"ast":null,"code":"import _toConsumableArray from \"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/chiara/repos/arquiweb-tp1/react-frontend/src/screens/NearbyRestaurants/RestaurantInfo/index.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport ImageList from \"@mui/material/ImageList\";\nimport ImageListItem from \"@mui/material/ImageListItem\";\nimport { Link } from \"react-router-dom\";\nimport LocalPhoneIcon from \"@mui/icons-material/LocalPhone\";\nimport AccessTimeIcon from \"@mui/icons-material/AccessTime\";\nimport styles from \"./styles.module.scss\";\n\nvar RestaurantInfo = function RestaurantInfo(_ref) {\n  var restaurant = _ref.restaurant,\n      handleClose = _ref.handleClose;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      imagesLoading = _useState2[0],\n      setImagesLoading = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      photos = _useState4[0],\n      setPhotos = _useState4[1];\n\n  var onHandleClose = function onHandleClose() {\n    setPhotos([]);\n    handleClose();\n  };\n\n  useEffect(function () {\n    if (restaurant && restaurant.id) {\n      var fetchImages = function fetchImages(imageId) {\n        fetch(\"https://ver-la-carta.herokuapp.com/imagen/\".concat(imageId, \"/\")).then(function (response) {\n          return response.blob();\n        }).then(function (image) {\n          var localUrl = URL.createObjectURL(image);\n          setPhotos(function (photos) {\n            return [].concat(_toConsumableArray(photos), [{\n              url: localUrl,\n              id: imageId\n            }]);\n          });\n          setImagesLoading(true);\n        });\n      };\n\n      fetch(\"https://ver-la-carta.herokuapp.com/imagen/resto/\".concat(restaurant.id, \"/\")).then(function (response) {\n        return response.json();\n      }).then(function (imageIds) {\n        imageIds.map(fetchImages);\n      });\n    }\n  }, [restaurant]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 6\n    }\n  }, restaurant === null || restaurant === void 0 ? void 0 : restaurant.name), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onHandleClose,\n    className: styles.closeButton,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 6\n    }\n  }, \"X\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.infoContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(LocalPhoneIcon, {\n    className: styles.icon,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.label,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 6\n    }\n  }, \" \", restaurant === null || restaurant === void 0 ? void 0 : restaurant.phoneNumber, \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.infoContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(AccessTimeIcon, {\n    className: styles.icon,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.label,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 6\n    }\n  }, restaurant === null || restaurant === void 0 ? void 0 : restaurant.workingHours, \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, imagesLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ImageList, {\n    sx: {\n      width: 330,\n      height: 280\n    },\n    cols: 2,\n    rowHeight: 280,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 8\n    }\n  }, photos.map(function (item) {\n    return /*#__PURE__*/React.createElement(ImageListItem, {\n      key: item.url,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.url,\n      alt: item.id,\n      loading: \"lazy\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }));\n  }))) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, \"Recuperando im\\xE1genes de su restaurante...\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.buttonContainers,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/menu/\".concat(restaurant === null || restaurant === void 0 ? void 0 : restaurant.id),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: styles.button,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 6\n    }\n  }, \" Ver Menu \")), /*#__PURE__*/React.createElement(Link, {\n    to: \"/restaurante/\".concat(restaurant === null || restaurant === void 0 ? void 0 : restaurant.id, \"/hacer_pedido?name=\").concat(restaurant === null || restaurant === void 0 ? void 0 : restaurant.name),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: styles.button,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 6\n    }\n  }, \" Hacer Pedido \"))));\n};\n\nexport default RestaurantInfo;","map":{"version":3,"sources":["/home/chiara/repos/arquiweb-tp1/react-frontend/src/screens/NearbyRestaurants/RestaurantInfo/index.js"],"names":["React","useState","useEffect","ImageList","ImageListItem","Link","LocalPhoneIcon","AccessTimeIcon","styles","RestaurantInfo","restaurant","handleClose","imagesLoading","setImagesLoading","photos","setPhotos","onHandleClose","id","fetchImages","imageId","fetch","then","response","blob","image","localUrl","URL","createObjectURL","url","json","imageIds","map","container","title","name","closeButton","infoContainer","icon","label","phoneNumber","workingHours","width","height","item","buttonContainers","button"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ImageList from \"@mui/material/ImageList\";\nimport ImageListItem from \"@mui/material/ImageListItem\";\nimport { Link } from \"react-router-dom\";\nimport LocalPhoneIcon from \"@mui/icons-material/LocalPhone\";\nimport AccessTimeIcon from \"@mui/icons-material/AccessTime\";\n\nimport styles from \"./styles.module.scss\";\n\nconst RestaurantInfo = ({ restaurant, handleClose }) => {\n\tconst [imagesLoading, setImagesLoading] = useState(false);\n\tconst [photos, setPhotos] = useState([]);\n\n\tconst onHandleClose = () => {\n\t\tsetPhotos([]);\n\t\thandleClose();\n\t};\n\n\tuseEffect(() => {\n\t\tif (restaurant && restaurant.id) {\n\t\t\tconst fetchImages = (imageId) => {\n\t\t\t\tfetch(`https://ver-la-carta.herokuapp.com/imagen/${imageId}/`)\n\t\t\t\t\t.then((response) => response.blob())\n\t\t\t\t\t.then((image) => {\n\t\t\t\t\t\tconst localUrl = URL.createObjectURL(image);\n\t\t\t\t\t\tsetPhotos((photos) => [...photos, { url: localUrl, id: imageId }]);\n\t\t\t\t\t\tsetImagesLoading(true);\n\t\t\t\t\t});\n\t\t\t};\n\n\t\t\tfetch(\n\t\t\t\t`https://ver-la-carta.herokuapp.com/imagen/resto/${restaurant.id}/`\n\t\t\t)\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then((imageIds) => {\n\t\t\t\t\timageIds.map(fetchImages);\n\t\t\t\t});\n\t\t}\n\t}, [restaurant]);\n\n\treturn (\n\t\t<div className={styles.container}>\n\t\t\t<div>\n\t\t\t\t<div className={styles.title}>\n\t\t\t\t\t<h2>{restaurant?.name}</h2>\n\t\t\t\t\t<button onClick={onHandleClose} className={styles.closeButton}>\n\t\t\t\t\t\tX\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.infoContainer}>\n\t\t\t\t\t<LocalPhoneIcon className={styles.icon} />\n\t\t\t\t\t<span className={styles.label}> {restaurant?.phoneNumber} </span>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.infoContainer}>\n\t\t\t\t\t<AccessTimeIcon className={styles.icon} />\n\t\t\t\t\t<span className={styles.label}>{restaurant?.workingHours} </span>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t{imagesLoading ? (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<ImageList\n\t\t\t\t\t\t\t\tsx={{ width: 330, height: 280 }}\n\t\t\t\t\t\t\t\tcols={2}\n\t\t\t\t\t\t\t\trowHeight={280}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{photos.map((item) => (\n\t\t\t\t\t\t\t\t\t<ImageListItem key={item.url}>\n\t\t\t\t\t\t\t\t\t\t<img src={item.url} alt={item.id} loading=\"lazy\" />\n\t\t\t\t\t\t\t\t\t</ImageListItem>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</ImageList>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div>Recuperando imÃ¡genes de su restaurante...</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className={styles.buttonContainers}>\n\t\t\t\t<Link to={`/menu/${restaurant?.id}`}>\n\t\t\t\t\t<button className={styles.button}> Ver Menu </button>\n\t\t\t\t</Link>\n\t\t\t\t<Link\n\t\t\t\t\tto={`/restaurante/${restaurant?.id}/hacer_pedido?name=${restaurant?.name}`}\n\t\t\t\t>\n\t\t\t\t\t<button className={styles.button}> Hacer Pedido </button>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default RestaurantInfo;\n"]},"metadata":{},"sourceType":"module"}