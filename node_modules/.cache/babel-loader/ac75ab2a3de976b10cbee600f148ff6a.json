{"ast":null,"code":"import _slicedToArray from\"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import DisplayTable from\"./DisplayTable\";import Button from'@mui/material/Button';import Grid from'@mui/material/Grid';import AddCircleIcon from'@mui/icons-material/AddCircle';import styles from\"../styles.module.scss\";var FetchTables=function FetchTables(_ref){var restaurantId=_ref.restaurantId;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tables=_useState2[0],setTables=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),tablesLoading=_useState4[0],setTablesLoading=_useState4[1];useEffect(function(){fetch(\"https://ver-la-carta.herokuapp.com/mesas/\".concat(restaurantId)).then(function(res){return res.json();}).then(function(json){setTables(json);setTablesLoading(true);});console.log(tables);},[]);var handleCreateTable=function handleCreateTable(){fetch(\"https://ver-la-carta.herokuapp.com/mesas/\".concat(restaurantId),{method:\"POST\",body:JSON.stringify({\"restaurantId\":restaurantId}),headers:{\"Content-Type\":\"application/json\"}});window.location.reload(false);};return/*#__PURE__*/React.createElement(\"div\",{className:styles.displayOrdersColumns},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{variant:\"contained\",endIcon:/*#__PURE__*/React.createElement(AddCircleIcon,null),onClick:handleCreateTable},\"Crear mesa\")),tablesLoading?/*#__PURE__*/React.createElement(Grid,{container:true,spacing:2},tables.map(function(table){return/*#__PURE__*/React.createElement(Grid,{item:true,xs:4},/*#__PURE__*/React.createElement(DisplayTable,{table:table}));})):/*#__PURE__*/React.createElement(\"div\",null,\"Recuperando mesas de su restaurante...\"));};export default FetchTables;","map":{"version":3,"sources":["/home/chiara/repos/arquiweb-tp1/react-frontend/src/screens/RestaurantManagement/FetchTables/index.js"],"names":["React","useState","useEffect","DisplayTable","Button","Grid","AddCircleIcon","styles","FetchTables","restaurantId","tables","setTables","tablesLoading","setTablesLoading","fetch","then","res","json","console","log","handleCreateTable","method","body","JSON","stringify","headers","window","location","reload","displayOrdersColumns","map","table"],"mappings":"qKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,MAAOC,CAAAA,aAAP,KAA0B,+BAA1B,CACA,MAAOC,CAAAA,MAAP,KAAmB,uBAAnB,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAEd,IADFC,CAAAA,YACE,MADFA,YACE,CACF,cAA4BR,QAAQ,CAAC,EAAD,CAApC,wCAAOS,MAAP,eAAeC,SAAf,eACH,eAA0CV,QAAQ,CAAC,KAAD,CAAlD,yCAAOW,aAAP,eAAsBC,gBAAtB,eAGGX,SAAS,CAAC,UAAM,CACZY,KAAK,oDAA6CL,YAA7C,EAAL,CACJM,IADI,CACC,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADD,EAEJF,IAFI,CAEC,SAACE,IAAD,CAAU,CACfN,SAAS,CAACM,IAAD,CAAT,CACAJ,gBAAgB,CAAC,IAAD,CAAhB,CACA,CALI,EAMLK,OAAO,CAACC,GAAR,CAAYT,MAAZ,EACE,CARQ,CAQN,EARM,CAAT,CAUH,GAAMU,CAAAA,iBAAiB,CAAI,QAArBA,CAAAA,iBAAqB,EAAM,CAChCN,KAAK,oDAA6CL,YAA7C,EAA6D,CACjEY,MAAM,CAAE,MADyD,CAEjEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAC,eAAgBf,YAAjB,CAAf,CAF2D,CAGjEgB,OAAO,CAAE,CACR,eAAgB,kBADR,CAHwD,CAA7D,CAAL,CAOAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB,EACA,CATD,CAWG,mBACI,2BAAK,SAAS,CAAErB,MAAM,CAACsB,oBAAvB,eACL,4CACC,oBAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,OAAO,cAAE,oBAAC,aAAD,MAArC,CAAuD,OAAO,CAAET,iBAAhE,eADD,CADK,CAOJR,aAAa,cACD,oBAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,EACVF,MAAM,CAACoB,GAAP,CAAW,SAAAC,KAAK,qBAChB,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,eACC,oBAAC,YAAD,EACC,KAAK,CAAEA,KADR,EADD,CADgB,EAAhB,CADU,CADC,cAWD,wEAlBR,CADJ,CAwBH,CApDD,CAsDA,cAAevB,CAAAA,WAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport DisplayTable from \"./DisplayTable\";\nimport Button from '@mui/material/Button';\nimport Grid from '@mui/material/Grid';\nimport AddCircleIcon from '@mui/icons-material/AddCircle';\nimport styles from \"../styles.module.scss\"\n\nconst FetchTables = ({\n    restaurantId\n}) => {\n    const [tables, setTables] = useState([]);\n\tconst [tablesLoading, setTablesLoading] = useState(false);\n\n\n    useEffect(() => {\n        fetch(`https://ver-la-carta.herokuapp.com/mesas/${restaurantId}`)\n\t\t\t.then((res) => res.json())\n\t\t\t.then((json) => {\n\t\t\t\tsetTables(json)\n\t\t\t\tsetTablesLoading(true);\n\t\t\t});\n\t\t\tconsole.log(tables);\t\t\t\n    }, []);\n\n\tconst handleCreateTable = (() => {\n\t\tfetch(`https://ver-la-carta.herokuapp.com/mesas/${restaurantId}`, {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify({\"restaurantId\": restaurantId}),\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t});\n\t\twindow.location.reload(false);\n\t})\n\n    return (\n        <div className={styles.displayOrdersColumns}>\n\t\t\t<div>\n\t\t\t\t<Button variant=\"contained\" endIcon={<AddCircleIcon/>} onClick={handleCreateTable}>\n        \t\t    Crear mesa\n        \t\t</Button>\n\t\t\t</div>\t\n\t\t\t\n\t\t\t{tablesLoading ? (\n                <Grid container spacing={2}>\n\t\t\t\t\t{tables.map(table => (\n\t\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t\t<DisplayTable\n\t\t\t\t\t\t\t\ttable={table}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t))}\n                </Grid>\n            ) : (\n                <div>Recuperando mesas de su restaurante...</div>\n            )}\n\n\t\t</div>\n    );\n}\n\nexport default FetchTables"]},"metadata":{},"sourceType":"module"}