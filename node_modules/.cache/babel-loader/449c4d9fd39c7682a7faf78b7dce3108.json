{"ast":null,"code":"import _slicedToArray from\"/home/widergy/Documents/Guido/UBA/arqweb/verLaCartaFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router\";import styles from\"./styles.module.scss\";import GoBackButton from\"../../components/GoBack\";import DisplayOrder from\"./components/DisplayOrderPending\";import{ROUTES}from\"../../constants/routes\";import{pendingFilter}from\"./utils/filters\";import{Typography}from\"@mui/material\";var PendingOrders=function PendingOrders(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),restaurantName=_useState2[0],setRestaurantName=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),restaurantLoading=_useState4[0],setRestaurantLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),statusError=_useState6[0],setStatusError=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),pendingOrders=_useState8[0],setPendingOrders=_useState8[1];var _useParams=useParams(),restaurantId=_useParams.id;var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),ordersLoading=_useState10[0],setOrdersLoading=_useState10[1];useEffect(function(){fetch(\"http://localhost:8080/restaurantes/\".concat(restaurantId)).then(function(res){return res.json();}).then(function(json){if(json.status===404){setStatusError(true);setRestaurantName(\"Su restaurante no ha sido encontrado.\");}else{setRestaurantName(json.name);setRestaurantLoading(true);}});fetch(\"http://localhost:8080/restaurantes/\".concat(restaurantId,\"/pedidos\")).then(function(res){return res.json();}).then(function(json){if(json.status===404){setStatusError(true);setRestaurantName(\"Su restaurante no ha sido encontrado.\");}else{setPendingOrders(json.filter(pendingFilter));setOrdersLoading(true);}});// apiGet(`http://localhost:8080/restaurantes/${restaurantId}`)\n},[]);return restaurantLoading?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:styles.titleContainer},/*#__PURE__*/React.createElement(Typography,{variant:\"h3\",component:\"h1\"},restaurantName),/*#__PURE__*/React.createElement(GoBackButton,{route:ROUTES.HOME})),/*#__PURE__*/React.createElement(\"div\",null,ordersLoading?/*#__PURE__*/React.createElement(\"div\",{className:styles.displayOrdersColumns},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Typography,{variant:\"h5\",align:\"center\"},\" Pedidos pendientes \"),pendingOrders.map(function(order){return/*#__PURE__*/React.createElement(DisplayOrder,{order:order});}))):/*#__PURE__*/React.createElement(\"p\",null,\"Recuperando informaci\\xF3n de pedidos pendientes.\"))):/*#__PURE__*/React.createElement(\"p\",null,\"Recuperando informaci\\xF3n del restaurante.\");};export default PendingOrders;","map":{"version":3,"sources":["/home/widergy/Documents/Guido/UBA/arqweb/verLaCartaFront/src/screens/PendingOrders/index.js"],"names":["React","useState","useEffect","useParams","styles","GoBackButton","DisplayOrder","ROUTES","pendingFilter","Typography","PendingOrders","restaurantName","setRestaurantName","restaurantLoading","setRestaurantLoading","statusError","setStatusError","pendingOrders","setPendingOrders","restaurantId","id","ordersLoading","setOrdersLoading","fetch","then","res","json","status","name","filter","titleContainer","HOME","displayOrdersColumns","map","order"],"mappings":"+KAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,cAA1B,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,YAAP,KAAyB,yBAAzB,CACA,MAAOC,CAAAA,YAAP,KAAyB,kCAAzB,CACA,OAASC,MAAT,KAAuB,wBAAvB,CACA,OAASC,aAAT,KAA8B,iBAA9B,CACA,OAASC,UAAT,KAA0B,eAA1B,CAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CACxB,cAA4CT,QAAQ,EAApD,wCAAOU,cAAP,eAAuBC,iBAAvB,eACA,eAAkDX,QAAQ,CAAC,KAAD,CAA1D,yCAAOY,iBAAP,eAA0BC,oBAA1B,eACA,eAAsCb,QAAQ,CAAC,KAAD,CAA9C,yCAAOc,WAAP,eAAoBC,cAApB,eACA,eAA0Cf,QAAQ,CAAC,EAAD,CAAlD,yCAAOgB,aAAP,eAAsBC,gBAAtB,eAEA,eAA6Bf,SAAS,EAAtC,CAAYgB,YAAZ,YAAQC,EAAR,CACA,eAA0CnB,QAAQ,CAAC,KAAD,CAAlD,0CAAOoB,aAAP,gBAAsBC,gBAAtB,gBAEApB,SAAS,CAAC,UAAM,CACZqB,KAAK,8CAAuCJ,YAAvC,EAAL,CACKK,IADL,CACU,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADV,EAEKF,IAFL,CAEU,SAACE,IAAD,CAAU,CACZ,GAAIA,IAAI,CAACC,MAAL,GAAgB,GAApB,CAAyB,CACrBX,cAAc,CAAC,IAAD,CAAd,CACAJ,iBAAiB,CAAC,uCAAD,CAAjB,CACH,CAHD,IAGO,CACHA,iBAAiB,CAACc,IAAI,CAACE,IAAN,CAAjB,CACAd,oBAAoB,CAAC,IAAD,CAApB,CACH,CACJ,CAVL,EAYAS,KAAK,8CAAuCJ,YAAvC,aAAL,CACKK,IADL,CACU,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADV,EAEKF,IAFL,CAEU,SAACE,IAAD,CAAU,CACZ,GAAIA,IAAI,CAACC,MAAL,GAAgB,GAApB,CAAyB,CACrBX,cAAc,CAAC,IAAD,CAAd,CACAJ,iBAAiB,CAAC,uCAAD,CAAjB,CACH,CAHD,IAGO,CACHM,gBAAgB,CAACQ,IAAI,CAACG,MAAL,CAAYrB,aAAZ,CAAD,CAAhB,CACAc,gBAAgB,CAAC,IAAD,CAAhB,CACH,CACJ,CAVL,EAWA;AACH,CAzBQ,CAyBN,EAzBM,CAAT,CA4BA,MACIT,CAAAA,iBAAiB,cACb,4CACI,2BAAK,SAAS,CAAET,MAAM,CAAC0B,cAAvB,eACI,oBAAC,UAAD,EAAY,OAAO,CAAC,IAApB,CAAyB,SAAS,CAAC,IAAnC,EAAyCnB,cAAzC,CADJ,cAGI,oBAAC,YAAD,EAAc,KAAK,CAAEJ,MAAM,CAACwB,IAA5B,EAHJ,CADJ,cAOI,+BAAOV,aAAD,cACF,2BAAK,SAAS,CAAEjB,MAAM,CAAC4B,oBAAvB,eACI,4CACI,oBAAC,UAAD,EAAY,OAAO,CAAC,IAApB,CAAyB,KAAK,CAAC,QAA/B,yBADJ,CAEKf,aAAa,CAACgB,GAAd,CAAkB,SAAAC,KAAK,qBACpB,oBAAC,YAAD,EACI,KAAK,CAAEA,KADX,EADoB,EAAvB,CAFL,CADJ,CADE,cAYE,iFAZR,CAPJ,CADa,cAyBb,2EA1BR,CA6BH,CAlED,CAoEA,cAAexB,CAAAA,aAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router\";\nimport styles from \"./styles.module.scss\";\nimport GoBackButton from \"../../components/GoBack\";\nimport DisplayOrder from \"./components/DisplayOrderPending\";\nimport { ROUTES } from \"../../constants/routes\";\nimport { pendingFilter } from \"./utils/filters\";\nimport { Typography} from \"@mui/material\";\n\nconst PendingOrders = () => {\n    const [restaurantName, setRestaurantName] = useState();\n    const [restaurantLoading, setRestaurantLoading] = useState(false);\n    const [statusError, setStatusError] = useState(false);\n    const [pendingOrders, setPendingOrders] = useState([]);\n\n    const { id: restaurantId } = useParams();\n    const [ordersLoading, setOrdersLoading] = useState(false);\n\n    useEffect(() => {\n        fetch(`http://localhost:8080/restaurantes/${restaurantId}`)\n            .then((res) => res.json())\n            .then((json) => {\n                if (json.status === 404) {\n                    setStatusError(true);\n                    setRestaurantName(\"Su restaurante no ha sido encontrado.\");\n                } else {\n                    setRestaurantName(json.name);\n                    setRestaurantLoading(true)\n                }\n            });\n\n        fetch(`http://localhost:8080/restaurantes/${restaurantId}/pedidos`)\n            .then((res) => res.json())\n            .then((json) => {\n                if (json.status === 404) {\n                    setStatusError(true);\n                    setRestaurantName(\"Su restaurante no ha sido encontrado.\");\n                } else {\n                    setPendingOrders(json.filter(pendingFilter))\n                    setOrdersLoading(true)                  \n                }\n            });\n        // apiGet(`http://localhost:8080/restaurantes/${restaurantId}`)\n    }, []);\n\n    \n    return (\n        restaurantLoading ? (\n            <div>\n                <div className={styles.titleContainer}>\n                    <Typography variant=\"h3\" component=\"h1\">{restaurantName}</Typography>\n\n                    <GoBackButton route={ROUTES.HOME} />\n                </div>\n                \n                <div>{(ordersLoading) ? (\n                    <div className={styles.displayOrdersColumns}>\n                        <div>\n                            <Typography variant=\"h5\" align=\"center\"> Pedidos pendientes </Typography>\n                            {pendingOrders.map(order => (\n                                <DisplayOrder\n                                    order={order}\n                                />\n                            ))}\n                        </div>\n                    </div>\n                    ) : (\n                        <p>Recuperando información de pedidos pendientes.</p>\n                    )}\n                </div>\n            </div>             \n        ) : (\n            <p>Recuperando información del restaurante.</p>\n        )\n    )\n}\n\nexport default PendingOrders"]},"metadata":{},"sourceType":"module"}