{"ast":null,"code":"import _toConsumableArray from \"/home/widergy/Documents/Guido/UBA/arqweb/verLaCartaFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/widergy/Documents/Guido/UBA/arqweb/verLaCartaFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/widergy/Documents/Guido/UBA/arqweb/verLaCartaFront/src/screens/NearbyRestaurants/RestaurantInfo/index.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { Button, ButtonGroup } from \"@mui/material\";\nimport ImageList from \"@mui/material/ImageList\";\nimport ImageListItem from \"@mui/material/ImageListItem\";\nimport styles from \"./styles.module.scss\";\n\nvar RestaurantInfo = function RestaurantInfo(_ref) {\n  var restaurant = _ref.restaurant,\n      isOpen = _ref.isOpen,\n      handleClose = _ref.handleClose;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      restaurantLoading = _useState2[0],\n      setRestaurantLoading = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      imagesLoading = _useState4[0],\n      setImagesLoading = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      photos = _useState6[0],\n      setPhotos = _useState6[1];\n\n  useEffect(function () {\n    console.log(restaurant);\n\n    if (restaurant && restaurant.id) {\n      fetch(\"https://ver-la-carta.herokuapp.com/restaurantes/\".concat(restaurant.id, \"/\")).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        if (json.status === 404) {\n          handleClose();\n        } else {\n          setRestaurantLoading(true);\n        }\n      });\n\n      var fetchImages = function fetchImages(imageId) {\n        fetch(\"https://ver-la-carta.herokuapp.com/imagen/\".concat(imageId, \"/\")).then(function (response) {\n          return response.blob();\n        }).then(function (image) {\n          var localUrl = URL.createObjectURL(image);\n          setPhotos(function (photos) {\n            return [].concat(_toConsumableArray(photos), [{\n              url: localUrl,\n              id: imageId\n            }]);\n          });\n          setImagesLoading(true);\n        });\n      };\n\n      fetch(\"https://ver-la-carta.herokuapp.com/imagen/resto/\".concat(restaurant.id, \"/\")).then(function (response) {\n        return response.json();\n      }).then(function (imageIds) {\n        imageIds.map(fetchImages);\n      });\n    }\n  }, [restaurant]);\n  return restaurantLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: isOpen ? styles.container : styles.closedContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    variant: \"h4\",\n    component: \"h2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, restaurant.name), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, \" X \")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, \"Horario de atenci\\xF3n: \", restaurant.workinghours), /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, \"Tel\\xE9fono de contacto: \", restaurant.phoneNumber)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 4\n    }\n  }, imagesLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(ImageList, {\n    sx: {\n      width: 350,\n      height: 450\n    },\n    cols: 2,\n    rowHeight: 164,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, photos.map(function (item) {\n    return /*#__PURE__*/React.createElement(ImageListItem, {\n      key: item.url,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.url,\n      alt: item.id,\n      loading: \"lazy\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 10\n      }\n    }));\n  }))) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 6\n    }\n  }, \"Recuperando im\\xE1genes de su restaurante...\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(ButtonGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"text\",\n    href: \"http://localhost:3000/menu/\".concat(restaurant.id),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 6\n    }\n  }, \"Ver Carta\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"text\",\n    href: \"/restaurante/\".concat(restaurant.id, \"/hacer_pedido\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 6\n    }\n  }, \"Hacer Pedido\")))) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 3\n    }\n  }, \" Recuperando informaci\\xF3n del restaurante.\");\n};\n\nexport default RestaurantInfo;","map":{"version":3,"sources":["/home/widergy/Documents/Guido/UBA/arqweb/verLaCartaFront/src/screens/NearbyRestaurants/RestaurantInfo/index.js"],"names":["React","useState","useEffect","Button","ButtonGroup","ImageList","ImageListItem","styles","RestaurantInfo","restaurant","isOpen","handleClose","restaurantLoading","setRestaurantLoading","imagesLoading","setImagesLoading","photos","setPhotos","console","log","id","fetch","then","res","json","status","fetchImages","imageId","response","blob","image","localUrl","URL","createObjectURL","url","imageIds","map","container","closedContainer","title","name","workinghours","phoneNumber","width","height","item"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Button, ButtonGroup } from \"@mui/material\";\nimport ImageList from \"@mui/material/ImageList\";\nimport ImageListItem from \"@mui/material/ImageListItem\";\n\nimport styles from \"./styles.module.scss\";\n\nconst RestaurantInfo = ({ restaurant, isOpen, handleClose }) => {\n\tconst [restaurantLoading, setRestaurantLoading] = useState(false);\n\tconst [imagesLoading, setImagesLoading] = useState(false);\n\tconst [photos, setPhotos] = useState([]);\n\n\tuseEffect(() => {\n\t\tconsole.log(restaurant);\n\t\tif (restaurant && restaurant.id) {\n\t\t\tfetch(`https://ver-la-carta.herokuapp.com/restaurantes/${restaurant.id}/`)\n\t\t\t\t.then((res) => res.json())\n\t\t\t\t.then((json) => {\n\t\t\t\t\tif (json.status === 404) {\n\t\t\t\t\t\thandleClose();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetRestaurantLoading(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\tconst fetchImages = (imageId) => {\n\t\t\t\tfetch(`https://ver-la-carta.herokuapp.com/imagen/${imageId}/`)\n\t\t\t\t\t.then((response) => response.blob())\n\t\t\t\t\t.then((image) => {\n\t\t\t\t\t\tconst localUrl = URL.createObjectURL(image);\n\t\t\t\t\t\tsetPhotos((photos) => [...photos, { url: localUrl, id: imageId }]);\n\t\t\t\t\t\tsetImagesLoading(true);\n\t\t\t\t\t});\n\t\t\t};\n\n\t\t\tfetch(`https://ver-la-carta.herokuapp.com/imagen/resto/${restaurant.id}/`)\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then((imageIds) => {\n\t\t\t\t\timageIds.map(fetchImages);\n\t\t\t\t});\n\t\t}\n\t}, [restaurant]);\n\n\treturn restaurantLoading ? (\n\t\t<div className={isOpen ? styles.container : styles.closedContainer}>\n\t\t\t<div className={styles.title}>\n\t\t\t\t<h2 variant=\"h4\" component=\"h2\">\n\t\t\t\t\t{restaurant.name}\n\t\t\t\t</h2>\n\t\t\t\t<button onClick={handleClose}> X </button>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<p>Horario de atención: {restaurant.workinghours}</p>\n\t\t\t\t<p>Teléfono de contacto: {restaurant.phoneNumber}</p>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t{imagesLoading ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ImageList\n\t\t\t\t\t\t\tsx={{ width: 350, height: 450 }}\n\t\t\t\t\t\t\tcols={2}\n\t\t\t\t\t\t\trowHeight={164}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{photos.map((item) => (\n\t\t\t\t\t\t\t\t<ImageListItem key={item.url}>\n\t\t\t\t\t\t\t\t\t<img src={item.url} alt={item.id} loading=\"lazy\" />\n\t\t\t\t\t\t\t\t</ImageListItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ImageList>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div>Recuperando imágenes de su restaurante...</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"text\"\n\t\t\t\t\t\thref={`http://localhost:3000/menu/${restaurant.id}`}\n\t\t\t\t\t>\n\t\t\t\t\t\tVer Carta\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"text\"\n\t\t\t\t\t\thref={`/restaurante/${restaurant.id}/hacer_pedido`}\n\t\t\t\t\t>\n\t\t\t\t\t\tHacer Pedido\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</div>\n\t\t</div>\n\t) : (\n\t\t<div> Recuperando información del restaurante.</div>\n\t);\n};\n\nexport default RestaurantInfo;\n"]},"metadata":{},"sourceType":"module"}