{"ast":null,"code":"import _slicedToArray from\"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router\";import Typography from\"@mui/material/Typography\";import GoBackButton from\"../../components/GoBack\";import{apiGet,apiPost}from\"../../utils/services\";import{ROUTES}from\"../../constants/routes\";import styles from\"./styles.module.scss\";import{deniedFilter,pendingFilter,inProgressFilter,readyFilter}from\"./utils/filters\";import DisplayOrderInProgress from\"./components/DisplayOrderInProgress\";import DisplayOrderReady from\"./components/DisplayOrderReady\";var CurrentOrders=function CurrentOrders(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),restaurantName=_useState2[0],setRestaurantName=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),restaurantLoading=_useState4[0],setRestaurantLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),ordersLoading=_useState6[0],setOrdersLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),statusError=_useState8[0],setStatusError=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),deniedOrders=_useState10[0],setDeniedOrders=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),pendingOrders=_useState12[0],setPendingOrders=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),inProgressOrders=_useState14[0],setInProgressOrders=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),readyOrders=_useState16[0],setReadyOrders=_useState16[1];var _useParams=useParams(),restaurantId=_useParams.id;useEffect(function(){fetch(\"https://ver-la-carta.herokuapp.com/restaurantes/\".concat(restaurantId)).then(function(res){return res.json();}).then(function(json){if(json.status===404){setStatusError(true);setRestaurantName(\"Su restaurante no ha sido encontrado.\");}else{setRestaurantName(json.name);setRestaurantLoading(true);}});fetch(\"https://ver-la-carta.herokuapp.com/restaurantes/\".concat(restaurantId,\"/pedidos\")).then(function(res){return res.json();}).then(function(json){if(json.status===404){setStatusError(true);setRestaurantName(\"Su restaurante no ha sido encontrado.\");}else{setDeniedOrders(json.filter(deniedFilter));setPendingOrders(json.filter(pendingFilter));setInProgressOrders(json.filter(inProgressFilter));setReadyOrders(json.filter(readyFilter));setOrdersLoading(true);}});},[]);return restaurantLoading?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:styles.titleContainer},/*#__PURE__*/React.createElement(Typography,{variant:\"h3\",component:\"h1\"},restaurantName),/*#__PURE__*/React.createElement(GoBackButton,{route:ROUTES.HOME})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,ordersLoading?/*#__PURE__*/React.createElement(\"div\",{className:styles.displayOrdersColumns},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Typography,{variant:\"h5\",align:\"center\"},\" \",\"Pedidos en progreso\",\" \"),inProgressOrders.map(function(order){return/*#__PURE__*/React.createElement(DisplayOrderInProgress,{order:order});})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Typography,{variant:\"h5\",align:\"center\"},\" \",\"Pedidos listos\",\" \"),readyOrders.map(function(order){return/*#__PURE__*/React.createElement(DisplayOrderReady,{order:order});}))):/*#__PURE__*/React.createElement(\"p\",null,\"Recuperando informaci\\xF3n de pedidos en curso.\")))):/*#__PURE__*/React.createElement(\"p\",null,\"Recuperando informaci\\xF3n del restaurante.\");};export default CurrentOrders;","map":{"version":3,"sources":["/home/chiara/repos/arquiweb-tp1/react-frontend/src/screens/CurrentOrders/index.js"],"names":["React","useState","useEffect","useParams","Typography","GoBackButton","apiGet","apiPost","ROUTES","styles","deniedFilter","pendingFilter","inProgressFilter","readyFilter","DisplayOrderInProgress","DisplayOrderReady","CurrentOrders","restaurantName","setRestaurantName","restaurantLoading","setRestaurantLoading","ordersLoading","setOrdersLoading","statusError","setStatusError","deniedOrders","setDeniedOrders","pendingOrders","setPendingOrders","inProgressOrders","setInProgressOrders","readyOrders","setReadyOrders","restaurantId","id","fetch","then","res","json","status","name","filter","titleContainer","HOME","displayOrdersColumns","map","order"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router\";\nimport Typography from \"@mui/material/Typography\";\n\nimport GoBackButton from \"../../components/GoBack\";\nimport { apiGet, apiPost } from \"../../utils/services\";\nimport { ROUTES } from \"../../constants/routes\";\n\nimport styles from \"./styles.module.scss\";\nimport {\n\tdeniedFilter,\n\tpendingFilter,\n\tinProgressFilter,\n\treadyFilter,\n} from \"./utils/filters\";\nimport DisplayOrderInProgress from \"./components/DisplayOrderInProgress\";\nimport DisplayOrderReady from \"./components/DisplayOrderReady\";\n\nconst CurrentOrders = () => {\n\tconst [restaurantName, setRestaurantName] = useState();\n\tconst [restaurantLoading, setRestaurantLoading] = useState(false);\n\tconst [ordersLoading, setOrdersLoading] = useState(false);\n\tconst [statusError, setStatusError] = useState(false);\n\n\tconst [deniedOrders, setDeniedOrders] = useState([]);\n\tconst [pendingOrders, setPendingOrders] = useState([]);\n\tconst [inProgressOrders, setInProgressOrders] = useState([]);\n\tconst [readyOrders, setReadyOrders] = useState([]);\n\n\tconst { id: restaurantId } = useParams();\n\n\tuseEffect(() => {\n\t\tfetch(`https://ver-la-carta.herokuapp.com/restaurantes/${restaurantId}`)\n\t\t\t.then((res) => res.json())\n\t\t\t.then((json) => {\n\t\t\t\tif (json.status === 404) {\n\t\t\t\t\tsetStatusError(true);\n\t\t\t\t\tsetRestaurantName(\"Su restaurante no ha sido encontrado.\");\n\t\t\t\t} else {\n\t\t\t\t\tsetRestaurantName(json.name);\n\t\t\t\t\tsetRestaurantLoading(true);\n\t\t\t\t}\n\t\t\t});\n\n\t\tfetch(\n\t\t\t`https://ver-la-carta.herokuapp.com/restaurantes/${restaurantId}/pedidos`\n\t\t)\n\t\t\t.then((res) => res.json())\n\t\t\t.then((json) => {\n\t\t\t\tif (json.status === 404) {\n\t\t\t\t\tsetStatusError(true);\n\t\t\t\t\tsetRestaurantName(\"Su restaurante no ha sido encontrado.\");\n\t\t\t\t} else {\n\t\t\t\t\tsetDeniedOrders(json.filter(deniedFilter));\n\t\t\t\t\tsetPendingOrders(json.filter(pendingFilter));\n\t\t\t\t\tsetInProgressOrders(json.filter(inProgressFilter));\n\t\t\t\t\tsetReadyOrders(json.filter(readyFilter));\n\t\t\t\t\tsetOrdersLoading(true);\n\t\t\t\t}\n\t\t\t});\n\t}, []);\n\n\treturn restaurantLoading ? (\n\t\t<div>\n\t\t\t<div className={styles.titleContainer}>\n\t\t\t\t<Typography variant=\"h3\" component=\"h1\">\n\t\t\t\t\t{restaurantName}\n\t\t\t\t</Typography>\n\t\t\t\t<GoBackButton route={ROUTES.HOME} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t{ordersLoading ? (\n\t\t\t\t\t\t<div className={styles.displayOrdersColumns}>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Typography variant=\"h5\" align=\"center\">\n\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\tPedidos en progreso{\" \"}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t{inProgressOrders.map((order) => (\n\t\t\t\t\t\t\t\t\t<DisplayOrderInProgress order={order} />\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Typography variant=\"h5\" align=\"center\">\n\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\tPedidos listos{\" \"}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t{readyOrders.map((order) => (\n\t\t\t\t\t\t\t\t\t<DisplayOrderReady order={order} />\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p>Recuperando información de pedidos en curso.</p>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t) : (\n\t\t<p>Recuperando información del restaurante.</p>\n\t);\n};\n\nexport default CurrentOrders;\n"]},"metadata":{},"sourceType":"module"}