{"ast":null,"code":"import _defineProperty from \"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/chiara/repos/arquiweb-tp1/react-frontend/src/screens/Login/index.js\";\n\nimport React, { useState, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { CircularProgress } from \"@mui/material\";\nimport { ROUTES } from \"../../constants/routes\";\nimport { UserContext } from \"../../context\";\nimport PasswordField from \"../../components/PasswordField\";\nimport styles from \"./styles.module.scss\";\n\nvar LogIn = function LogIn(_ref) {\n  var history = _ref.history;\n\n  var _useContext = useContext(UserContext),\n      setUserId = _useContext.setUserId,\n      setUserName = _useContext.setUserName,\n      setRestaurantId = _useContext.setRestaurantId;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState({\n    username: \"\",\n    password: \"\"\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      values = _useState4[0],\n      setValues = _useState4[1];\n\n  var handleSubmit = function handleSubmit(evt) {\n    evt.preventDefault();\n    setLoading(true);\n    fetch(\"https://ver-la-carta.herokuapp.com/usuarios/\".concat(values.username, \"/\").concat(values.password)).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      setRestaurantId(json.restaurantId);\n      setUserId(json.id);\n      setUserName(json.username);\n      setLoading(false);\n      history.push(ROUTES.BACKOFFICE_HOME);\n    });\n  };\n\n  var handleChange = function handleChange(e) {\n    var _e$target = e.target,\n        id = _e$target.id,\n        value = _e$target.value;\n    setValues(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, _defineProperty({}, id, value));\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, \" Bienvenido \")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: styles.form,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.input,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: styles.label,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 6\n    }\n  }, \"Nombre de usuario:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    id: \"username\",\n    onChange: handleChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(PasswordField, {\n    onChangePassword: handleChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: loading ? styles.disabledButton : styles.button,\n    onClick: handleSubmit,\n    disabled: loading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, loading ? /*#__PURE__*/React.createElement(CircularProgress, {\n    classes: {\n      root: styles.progress\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }) : \"Iniciar sesion\"), /*#__PURE__*/React.createElement(Link, {\n    to: ROUTES.SIGN_UP,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: styles.button,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 6\n    }\n  }, \"Crear usuario\"))));\n};\n\nexport default LogIn;","map":{"version":3,"sources":["/home/chiara/repos/arquiweb-tp1/react-frontend/src/screens/Login/index.js"],"names":["React","useState","useContext","Link","CircularProgress","ROUTES","UserContext","PasswordField","styles","LogIn","history","setUserId","setUserName","setRestaurantId","loading","setLoading","username","password","values","setValues","handleSubmit","evt","preventDefault","fetch","then","res","json","restaurantId","id","push","BACKOFFICE_HOME","handleChange","e","target","value","prevState","container","title","form","input","label","disabledButton","button","root","progress","SIGN_UP"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { CircularProgress } from \"@mui/material\";\n\nimport { ROUTES } from \"../../constants/routes\";\nimport { UserContext } from \"../../context\";\nimport PasswordField from \"../../components/PasswordField\";\n\nimport styles from \"./styles.module.scss\";\n\nconst LogIn = ({ history }) => {\n\tconst { setUserId, setUserName, setRestaurantId } = useContext(UserContext);\n\n\tconst [loading, setLoading] = useState(false);\n\n\tconst [values, setValues] = useState({\n\t\tusername: \"\",\n\t\tpassword: \"\",\n\t});\n\n\tconst handleSubmit = (evt) => {\n\t\tevt.preventDefault();\n\t\tsetLoading(true);\n\n\t\tfetch(\n\t\t\t`https://ver-la-carta.herokuapp.com/usuarios/${values.username}/${values.password}`\n\t\t)\n\t\t\t.then((res) => res.json())\n\t\t\t.then((json) => {\n\t\t\t\tsetRestaurantId(json.restaurantId);\n\t\t\t\tsetUserId(json.id);\n\t\t\t\tsetUserName(json.username);\n\t\t\t\tsetLoading(false);\n\t\t\t\thistory.push(ROUTES.BACKOFFICE_HOME);\n\t\t\t});\n\t};\n\n\tconst handleChange = (e) => {\n\t\tconst { id, value } = e.target;\n\t\tsetValues((prevState) => ({\n\t\t\t...prevState,\n\t\t\t[id]: value,\n\t\t}));\n\t};\n\n\treturn (\n\t\t<div className={styles.container}>\n\t\t\t<div className={styles.title}>\n\t\t\t\t<h1> Bienvenido </h1>\n\t\t\t</div>\n\n\t\t\t<form onSubmit={handleSubmit} className={styles.form}>\n\t\t\t\t<div className={styles.input}>\n\t\t\t\t\t<label className={styles.label}>Nombre de usuario:</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<PasswordField onChangePassword={handleChange} />\n\n\t\t\t\t<button\n\t\t\t\t\tclassName={loading ? styles.disabledButton : styles.button}\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={loading}\n\t\t\t\t>\n\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t<CircularProgress classes={{ root: styles.progress }} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\"Iniciar sesion\"\n\t\t\t\t\t)}\n\t\t\t\t</button>\n\n\t\t\t\t<Link to={ROUTES.SIGN_UP}>\n\t\t\t\t\t<button className={styles.button}>Crear usuario</button>\n\t\t\t\t</Link>\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\nexport default LogIn;\n"]},"metadata":{},"sourceType":"module"}