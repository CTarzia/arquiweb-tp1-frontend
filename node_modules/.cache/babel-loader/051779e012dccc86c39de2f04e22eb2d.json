{"ast":null,"code":"import _slicedToArray from \"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/chiara/repos/arquiweb-tp1/react-frontend/src/screens/CurrentOrders/index.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router\";\nimport Typography from '@mui/material/Typography';\nimport GoBackButton from \"../../components/GoBack\";\nimport { apiGet, apiPost } from \"../../utils/services\";\nimport { ROUTES } from \"../../constants/routes\";\nimport styles from \"./styles.module.scss\";\nimport { deniedFilter, pendingFilter, inProgressFilter, readyFilter } from \"./utils/filters\";\nimport DisplayOrderInProgress from \"./components/DisplayOrderInProgress\";\nimport DisplayOrderReady from \"./components/DisplayOrderReady\";\n\nvar CurrentOrders = function CurrentOrders() {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      restaurantName = _useState2[0],\n      setRestaurantName = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      restaurantLoading = _useState4[0],\n      setRestaurantLoading = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      ordersLoading = _useState6[0],\n      setOrdersLoading = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      statusError = _useState8[0],\n      setStatusError = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      deniedOrders = _useState10[0],\n      setDeniedOrders = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      pendingOrders = _useState12[0],\n      setPendingOrders = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      inProgressOrders = _useState14[0],\n      setInProgressOrders = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      readyOrders = _useState16[0],\n      setReadyOrders = _useState16[1];\n\n  var _useParams = useParams(),\n      restaurantId = _useParams.id;\n\n  useEffect(function () {\n    fetch(\"http://localhost:8080/restaurantes/\".concat(restaurantId)).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      if (json.status === 404) {\n        setStatusError(true);\n        setRestaurantName(\"Su restaurante no ha sido encontrado.\");\n      } else {\n        setRestaurantName(json.name);\n        setRestaurantLoading(true);\n      }\n    });\n    fetch(\"http://localhost:8080/restaurantes/\".concat(restaurantId, \"/pedidos\")).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      if (json.status === 404) {\n        setStatusError(true);\n        setRestaurantName(\"Su restaurante no ha sido encontrado.\");\n      } else {\n        setDeniedOrders(json.filter(deniedFilter));\n        setPendingOrders(json.filter(pendingFilter));\n        setInProgressOrders(json.filter(inProgressFilter));\n        setReadyOrders(json.filter(readyFilter));\n        setOrdersLoading(true);\n      }\n    }); // apiGet(`http://localhost:8080/restaurantes/${restaurantId}`)\n  }, []);\n  return restaurantLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.titleContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h3\",\n    component: \"h1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, restaurantName), /*#__PURE__*/React.createElement(GoBackButton, {\n    route: ROUTES.HOME,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, ordersLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.displayOrdersColumns,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    align: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 33\n    }\n  }, \" Pedidos en progreso \"), inProgressOrders.map(function (order) {\n    return /*#__PURE__*/React.createElement(DisplayOrderInProgress, {\n      order: order,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 37\n      }\n    });\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    align: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 29\n    }\n  }, \" Pedidos listos \"), readyOrders.map(function (order) {\n    return /*#__PURE__*/React.createElement(DisplayOrderReady, {\n      order: order,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 37\n      }\n    });\n  }))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, \"Recuperando informaci\\xF3n de pedidos en curso.\")))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"Recuperando informaci\\xF3n del restaurante.\");\n};\n\nexport default CurrentOrders;","map":{"version":3,"sources":["/home/chiara/repos/arquiweb-tp1/react-frontend/src/screens/CurrentOrders/index.js"],"names":["React","useState","useEffect","useParams","Typography","GoBackButton","apiGet","apiPost","ROUTES","styles","deniedFilter","pendingFilter","inProgressFilter","readyFilter","DisplayOrderInProgress","DisplayOrderReady","CurrentOrders","restaurantName","setRestaurantName","restaurantLoading","setRestaurantLoading","ordersLoading","setOrdersLoading","statusError","setStatusError","deniedOrders","setDeniedOrders","pendingOrders","setPendingOrders","inProgressOrders","setInProgressOrders","readyOrders","setReadyOrders","restaurantId","id","fetch","then","res","json","status","name","filter","titleContainer","HOME","displayOrdersColumns","map","order"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router\";\nimport Typography from '@mui/material/Typography';\n\nimport GoBackButton from \"../../components/GoBack\";\nimport { apiGet, apiPost } from \"../../utils/services\";\nimport { ROUTES } from \"../../constants/routes\";\n\nimport styles from \"./styles.module.scss\";\nimport { deniedFilter, pendingFilter, inProgressFilter, readyFilter } from \"./utils/filters\";\nimport DisplayOrderInProgress from \"./components/DisplayOrderInProgress\";\nimport DisplayOrderReady from \"./components/DisplayOrderReady\";\n\nconst CurrentOrders = () => {\n    const [restaurantName, setRestaurantName] = useState();\n    const [restaurantLoading, setRestaurantLoading] = useState(false);\n    const [ordersLoading, setOrdersLoading] = useState(false);\n    const [statusError, setStatusError] = useState(false);\n\n    const [deniedOrders, setDeniedOrders] = useState([]);\n    const [pendingOrders, setPendingOrders] = useState([]);\n    const [inProgressOrders, setInProgressOrders] = useState([]);\n    const [readyOrders, setReadyOrders] = useState([]);\n\n    const { id: restaurantId } = useParams();\n\n\n    useEffect(() => {\n        fetch(`http://localhost:8080/restaurantes/${restaurantId}`)\n            .then((res) => res.json())\n            .then((json) => {\n                if (json.status === 404) {\n                    setStatusError(true);\n                    setRestaurantName(\"Su restaurante no ha sido encontrado.\");\n                } else {\n                    setRestaurantName(json.name);\n                    setRestaurantLoading(true)\n                }\n            });\n\n        fetch(`http://localhost:8080/restaurantes/${restaurantId}/pedidos`)\n            .then((res) => res.json())\n            .then((json) => {\n                if (json.status === 404) {\n                    setStatusError(true);\n                    setRestaurantName(\"Su restaurante no ha sido encontrado.\");\n                } else {\n                    setDeniedOrders(json.filter(deniedFilter))\n                    setPendingOrders(json.filter(pendingFilter))\n                    setInProgressOrders(json.filter(inProgressFilter))\n                    setReadyOrders(json.filter(readyFilter))\n                    setOrdersLoading(true)\n                }\n            });\n        // apiGet(`http://localhost:8080/restaurantes/${restaurantId}`)\n    }, []);\n\n    return (\n        restaurantLoading ? (\n            <div>\n                <div className={styles.titleContainer}>\n                <Typography variant=\"h3\" component=\"h1\">{restaurantName}</Typography>\n                    <GoBackButton route={ROUTES.HOME} />\n                </div>\n                <div>\n                    <div>{(ordersLoading) ? (\n                        <div className={styles.displayOrdersColumns}>\n                            <div>\n                                <Typography variant=\"h5\" align=\"center\"> Pedidos en progreso </Typography>\n                                {inProgressOrders.map(order => (\n                                    <DisplayOrderInProgress\n                                        order={order}\n                                    />\n                                ))}\n                            </div>\n                            <div>\n                            <Typography variant=\"h5\" align=\"center\" > Pedidos listos </Typography>\n                                {readyOrders.map(order => (\n                                    <DisplayOrderReady\n                                        order={order}\n                                    />\n                                ))}\n                            </div>\n\n                        </div>\n\n\n                    ) : (\n                        <p>Recuperando información de pedidos en curso.</p>\n                    )}\n                    </div>\n                </div>\n            </div>\n\n        ) : (\n            <p>Recuperando información del restaurante.</p>\n        )\n    )\n}\n\nexport default CurrentOrders"]},"metadata":{},"sourceType":"module"}