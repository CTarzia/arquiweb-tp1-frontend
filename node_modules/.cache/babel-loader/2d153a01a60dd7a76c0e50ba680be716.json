{"ast":null,"code":"import _slicedToArray from \"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/chiara/repos/arquiweb-tp1/react-frontend/src/screens/Menu/index.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router\";\nimport styles from \"./styles.module.scss\";\nimport GoBackButton from \"../../components/GoBack\";\nimport { ROUTES } from \"../../constants/routes\";\nimport { useLocation } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\n\nvar Menu = function Menu() {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      menu = _useState2[0],\n      setMenu = _useState2[1];\n\n  var _useParams = useParams(),\n      restaurantId = _useParams.restoId;\n\n  var search = useLocation().search;\n  var tableId = new URLSearchParams(search).get(\"mesa\");\n\n  function showFile(blob) {\n    var newBlob = new Blob([blob], {\n      type: \"application/pdf\"\n    });\n    var data = window.URL.createObjectURL(newBlob);\n    var link = document.createElement(\"a\");\n    link.href = data;\n    setMenu(data);\n  }\n\n  useEffect(function () {\n    fetch(\"https://ver-la-carta.herokuapp.com/carta/\".concat(restaurantId), {\n      responseType: \"blob\"\n    }).then(function (response) {\n      return response.blob();\n    }).then(showFile);\n  }, []);\n\n  var callServer = function callServer() {\n    fetch(\"https://ver-la-carta.herokuapp.com/mesas/\".concat(restaurantId, \"/\").concat(tableId, \"/call\"), {\n      method: \"POST\",\n      body: JSON.stringify({}),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      window.alert(\"Mesero en camino!\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"object\", {\n    data: menu,\n    type: \"application/pdf\",\n    width: \"60%\",\n    height: \"500px\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: tableId ? \"/restaurante/\".concat(restaurantId, \"/hacer_pedido?mesa=\").concat(tableId) : \"/restaurante/\".concat(restaurantId, \"/hacer_pedido\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: styles.button,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, \"Hacer pedido\")), tableId && /*#__PURE__*/React.createElement(\"button\", {\n    className: styles.button,\n    onClick: callServer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, \" \", \"LLamar al mozo\", \" \"));\n};\n\nexport default Menu;","map":{"version":3,"sources":["/home/chiara/repos/arquiweb-tp1/react-frontend/src/screens/Menu/index.js"],"names":["React","useState","useEffect","useParams","styles","GoBackButton","ROUTES","useLocation","Link","Menu","menu","setMenu","restaurantId","restoId","search","tableId","URLSearchParams","get","showFile","blob","newBlob","Blob","type","data","window","URL","createObjectURL","link","document","createElement","href","fetch","responseType","then","response","callServer","method","body","JSON","stringify","headers","res","json","alert","container","button"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router\";\nimport styles from \"./styles.module.scss\";\nimport GoBackButton from \"../../components/GoBack\";\nimport { ROUTES } from \"../../constants/routes\";\nimport { useLocation } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\n\nconst Menu = () => {\n\tconst [menu, setMenu] = useState();\n\n\tconst { restoId: restaurantId } = useParams();\n\tconst search = useLocation().search;\n\tconst tableId = new URLSearchParams(search).get(\"mesa\");\n\n\tfunction showFile(blob) {\n\t\tvar newBlob = new Blob([blob], { type: \"application/pdf\" });\n\n\t\tconst data = window.URL.createObjectURL(newBlob);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.href = data;\n\n\t\tsetMenu(data);\n\t}\n\n\tuseEffect(() => {\n\t\tfetch(`https://ver-la-carta.herokuapp.com/carta/${restaurantId}`, {\n\t\t\tresponseType: \"blob\",\n\t\t})\n\t\t\t.then((response) => response.blob())\n\t\t\t.then(showFile);\n\t}, []);\n\n\tconst callServer = () => {\n\t\tfetch(\n\t\t\t`https://ver-la-carta.herokuapp.com/mesas/${restaurantId}/${tableId}/call`,\n\t\t\t{\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: JSON.stringify({}),\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t}\n\t\t)\n\t\t\t.then((res) => res.json())\n\t\t\t.then((json) => {\n\t\t\t\twindow.alert(\"Mesero en camino!\");\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<div className={styles.container}>\n\t\t\t<object data={menu} type=\"application/pdf\" width=\"60%\" height=\"500px\" />\n\t\t\t<Link\n\t\t\t\tto={\n\t\t\t\t\ttableId\n\t\t\t\t\t\t? `/restaurante/${restaurantId}/hacer_pedido?mesa=${tableId}`\n\t\t\t\t\t\t: `/restaurante/${restaurantId}/hacer_pedido`\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<button className={styles.button}>Hacer pedido</button>\n\t\t\t</Link>\n\t\t\t{tableId && (\n\t\t\t\t<button className={styles.button} onClick={callServer}>\n\t\t\t\t\t{\" \"}\n\t\t\t\t\tLLamar al mozo{\" \"}\n\t\t\t\t</button>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Menu;\n"]},"metadata":{},"sourceType":"module"}