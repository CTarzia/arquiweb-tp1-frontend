{"ast":null,"code":"import _toConsumableArray from\"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import ImageList from\"@mui/material/ImageList\";import ImageListItem from\"@mui/material/ImageListItem\";import{Link}from\"react-router-dom\";import LocalPhoneIcon from\"@mui/icons-material/LocalPhone\";import AccessTimeIcon from\"@mui/icons-material/AccessTime\";import styles from\"./styles.module.scss\";var RestaurantInfo=function RestaurantInfo(_ref){var restaurant=_ref.restaurant,handleClose=_ref.handleClose;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),imagesLoading=_useState2[0],setImagesLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),photos=_useState4[0],setPhotos=_useState4[1];var onHandleClose=function onHandleClose(){setPhotos([]);handleClose();};useEffect(function(){if(restaurant&&restaurant.id){var fetchImages=function fetchImages(imageId){fetch(\"https://ver-la-carta.herokuapp.com/imagen/\".concat(imageId,\"/\")).then(function(response){return response.blob();}).then(function(image){var localUrl=URL.createObjectURL(image);setPhotos(function(photos){return[].concat(_toConsumableArray(photos),[{url:localUrl,id:imageId}]);});setImagesLoading(true);});};setPhotos([]);fetch(\"https://ver-la-carta.herokuapp.com/imagen/resto/\".concat(restaurant.id,\"/\")).then(function(response){return response.json();}).then(function(imageIds){imageIds.map(fetchImages);});}},[restaurant]);return/*#__PURE__*/React.createElement(\"div\",{className:styles.container},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:styles.title},/*#__PURE__*/React.createElement(\"h2\",null,restaurant===null||restaurant===void 0?void 0:restaurant.name),/*#__PURE__*/React.createElement(\"button\",{onClick:onHandleClose,className:styles.closeButton},\"X\")),/*#__PURE__*/React.createElement(\"div\",{className:styles.infoContainer},/*#__PURE__*/React.createElement(LocalPhoneIcon,{className:styles.icon}),/*#__PURE__*/React.createElement(\"span\",{className:styles.label},\" \",restaurant===null||restaurant===void 0?void 0:restaurant.phoneNumber,\" \")),/*#__PURE__*/React.createElement(\"div\",{className:styles.infoContainer},/*#__PURE__*/React.createElement(AccessTimeIcon,{className:styles.icon}),/*#__PURE__*/React.createElement(\"span\",{className:styles.label},restaurant===null||restaurant===void 0?void 0:restaurant.workingHours,\" \")),/*#__PURE__*/React.createElement(\"div\",null,imagesLoading?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ImageList,{sx:{width:330,height:280},cols:2,rowHeight:280},photos.map(function(item){return/*#__PURE__*/React.createElement(ImageListItem,{key:item.url},/*#__PURE__*/React.createElement(\"img\",{src:item.url,alt:item.id,loading:\"lazy\"}));}))):/*#__PURE__*/React.createElement(\"div\",null,\"Recuperando im\\xE1genes de su restaurante...\"))),/*#__PURE__*/React.createElement(\"div\",{className:styles.buttonContainers},/*#__PURE__*/React.createElement(Link,{to:\"/menu/\".concat(restaurant===null||restaurant===void 0?void 0:restaurant.id,\"?appId=1\")},/*#__PURE__*/React.createElement(\"button\",{className:styles.button},\" Ver Menu \")),/*#__PURE__*/React.createElement(Link,{to:\"/restaurante/\".concat(restaurant===null||restaurant===void 0?void 0:restaurant.id,\"/hacer_pedido?name=\").concat(restaurant===null||restaurant===void 0?void 0:restaurant.name,\"&appId=1\")},/*#__PURE__*/React.createElement(\"button\",{className:styles.button},\" Hacer Pedido \"))));};export default RestaurantInfo;","map":{"version":3,"sources":["/home/chiara/repos/arquiweb-tp1/react-frontend/src/screens/NearbyRestaurants/RestaurantInfo/index.js"],"names":["React","useState","useEffect","ImageList","ImageListItem","Link","LocalPhoneIcon","AccessTimeIcon","styles","RestaurantInfo","restaurant","handleClose","imagesLoading","setImagesLoading","photos","setPhotos","onHandleClose","id","fetchImages","imageId","fetch","then","response","blob","image","localUrl","URL","createObjectURL","url","json","imageIds","map","container","title","name","closeButton","infoContainer","icon","label","phoneNumber","workingHours","width","height","item","buttonContainers","button"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ImageList from \"@mui/material/ImageList\";\nimport ImageListItem from \"@mui/material/ImageListItem\";\nimport { Link } from \"react-router-dom\";\nimport LocalPhoneIcon from \"@mui/icons-material/LocalPhone\";\nimport AccessTimeIcon from \"@mui/icons-material/AccessTime\";\n\nimport styles from \"./styles.module.scss\";\n\nconst RestaurantInfo = ({ restaurant, handleClose }) => {\n\tconst [imagesLoading, setImagesLoading] = useState(false);\n\tconst [photos, setPhotos] = useState([]);\n\n\tconst onHandleClose = () => {\n\t\tsetPhotos([]);\n\t\thandleClose();\n\t};\n\n\tuseEffect(() => {\n\t\tif (restaurant && restaurant.id) {\n\t\t\tconst fetchImages = (imageId) => {\n\t\t\t\tfetch(`https://ver-la-carta.herokuapp.com/imagen/${imageId}/`)\n\t\t\t\t\t.then((response) => response.blob())\n\t\t\t\t\t.then((image) => {\n\t\t\t\t\t\tconst localUrl = URL.createObjectURL(image);\n\t\t\t\t\t\tsetPhotos((photos) => [...photos, { url: localUrl, id: imageId }]);\n\t\t\t\t\t\tsetImagesLoading(true);\n\t\t\t\t\t});\n\t\t\t};\n\n\t\t\tsetPhotos([]);\n\n\t\t\tfetch(`https://ver-la-carta.herokuapp.com/imagen/resto/${restaurant.id}/`)\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then((imageIds) => {\n\t\t\t\t\timageIds.map(fetchImages);\n\t\t\t\t});\n\t\t}\n\t}, [restaurant]);\n\n\treturn (\n\t\t<div className={styles.container}>\n\t\t\t<div>\n\t\t\t\t<div className={styles.title}>\n\t\t\t\t\t<h2>{restaurant?.name}</h2>\n\t\t\t\t\t<button onClick={onHandleClose} className={styles.closeButton}>\n\t\t\t\t\t\tX\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.infoContainer}>\n\t\t\t\t\t<LocalPhoneIcon className={styles.icon} />\n\t\t\t\t\t<span className={styles.label}> {restaurant?.phoneNumber} </span>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.infoContainer}>\n\t\t\t\t\t<AccessTimeIcon className={styles.icon} />\n\t\t\t\t\t<span className={styles.label}>{restaurant?.workingHours} </span>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t{imagesLoading ? (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<ImageList\n\t\t\t\t\t\t\t\tsx={{ width: 330, height: 280 }}\n\t\t\t\t\t\t\t\tcols={2}\n\t\t\t\t\t\t\t\trowHeight={280}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{photos.map((item) => (\n\t\t\t\t\t\t\t\t\t<ImageListItem key={item.url}>\n\t\t\t\t\t\t\t\t\t\t<img src={item.url} alt={item.id} loading=\"lazy\" />\n\t\t\t\t\t\t\t\t\t</ImageListItem>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</ImageList>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div>Recuperando imÃ¡genes de su restaurante...</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className={styles.buttonContainers}>\n\t\t\t\t<Link to={`/menu/${restaurant?.id}?appId=1`}>\n\t\t\t\t\t<button className={styles.button}> Ver Menu </button>\n\t\t\t\t</Link>\n\t\t\t\t<Link\n\t\t\t\t\tto={`/restaurante/${restaurant?.id}/hacer_pedido?name=${restaurant?.name}&appId=1`}\n\t\t\t\t>\n\t\t\t\t\t<button className={styles.button}> Hacer Pedido </button>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default RestaurantInfo;\n"]},"metadata":{},"sourceType":"module"}