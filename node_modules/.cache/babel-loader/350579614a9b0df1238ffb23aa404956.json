{"ast":null,"code":"import _slicedToArray from \"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/chiara/repos/arquiweb-tp1/react-frontend/src/screens/WelcomeTable/index.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router\";\nimport GoBackButton from \"../../components/GoBack\";\nimport { ROUTES } from \"../../constants/routes\";\nimport styles from \"./styles.module.scss\";\nimport { Button, ButtonGroup, Typography } from \"@mui/material\";\n\nvar WelcomeTable = function WelcomeTable() {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      restaurantName = _useState2[0],\n      setRestaurantName = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      table = _useState4[0],\n      setTable = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      statusError = _useState6[0],\n      setStatusError = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      restaurantLoading = _useState8[0],\n      setRestaurantLoading = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      color = _useState10[0],\n      setColor = _useState10[1];\n\n  var _useParams = useParams(),\n      restaurantId = _useParams.restoId;\n\n  var _useParams2 = useParams(),\n      tableId = _useParams2.tableId;\n\n  useEffect(function () {\n    fetch(\"http://localhost:8080/restaurantes/\".concat(restaurantId)).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      if (json.status === 404) {\n        setStatusError(true);\n        setRestaurantName(\"Su restaurante no ha sido encontrado.\");\n      } else {\n        setRestaurantName(json.name);\n        setRestaurantLoading(true);\n      }\n    });\n    fetch(\"http://localhost:8080/mesas/\".concat(restaurantId, \"/\").concat(tableId)).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      if (json.status === 404) {\n        setStatusError(true);\n        setRestaurantName(\"Su mesa no ha sido encontrado.\");\n      } else {\n        setTable(json);\n        setRestaurantLoading(true);\n        setColor(!json.calling_server);\n      }\n    });\n  }, []);\n\n  var handleMozo = function handleMozo() {\n    fetch(\"http://localhost:8080/mesas/\".concat(restaurantId, \"/\").concat(tableId, \"/server\"), {\n      method: \"PUT\",\n      body: JSON.stringify({}),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      setTable(json);\n      setColor(table.calling_server);\n\n      if (color === true) {\n        window.alert(\"mozo llamado\");\n      } else {\n        window.alert(\"mozo liberado\");\n      }\n    });\n  };\n\n  return restaurantLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.titleContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h3\",\n    component: \"h1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 6\n    }\n  }, restaurantName), /*#__PURE__*/React.createElement(GoBackButton, {\n    route: ROUTES.HOME,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    className: styles.subtitle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, \"Mesa \", tableId), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.displayButtonsColumn,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(ButtonGroup, {\n    orientation: \"vertical\",\n    align: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"text\",\n    href: \"/menu/\".concat(restaurantId, \"?mesa=\").concat(tableId),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 16\n    }\n  }, \"Ver carta\"), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    variant: \"text\",\n    href: \"/restaurante/\".concat(restaurantId, \"/hacer_pedido?mesa=\").concat(tableId),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 16\n    }\n  }, \"Hacer pedido\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleMozo,\n    color: color ? \"primary\" : \"secondary\",\n    variant: color ? \"text\" : \"contained\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 22\n    }\n  }, color ? \"LLamar mozo\" : \"Liberar mozo\")))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 4\n    }\n  }, \"Recuperando informaci\\xF3n del restaurante.\");\n};\n\nexport default WelcomeTable;","map":{"version":3,"sources":["/home/chiara/repos/arquiweb-tp1/react-frontend/src/screens/WelcomeTable/index.js"],"names":["React","useState","useEffect","useParams","GoBackButton","ROUTES","styles","Button","ButtonGroup","Typography","WelcomeTable","restaurantName","setRestaurantName","table","setTable","statusError","setStatusError","restaurantLoading","setRestaurantLoading","color","setColor","restaurantId","restoId","tableId","fetch","then","res","json","status","name","calling_server","handleMozo","method","body","JSON","stringify","headers","window","alert","titleContainer","HOME","subtitle","displayButtonsColumn"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router\";\n\nimport GoBackButton from \"../../components/GoBack\";\nimport { ROUTES } from \"../../constants/routes\";\nimport styles from \"./styles.module.scss\";\nimport { Button, ButtonGroup, Typography} from \"@mui/material\";\n\n\nconst WelcomeTable = () => {\n\tconst [restaurantName, setRestaurantName] = useState();\n    const [table, setTable] = useState();\n\tconst [statusError, setStatusError] = useState(false);\n\tconst [restaurantLoading, setRestaurantLoading] = useState(false);\n    const [color, setColor] = useState()\n\n\tconst { restoId: restaurantId} = useParams();\n    const { tableId} = useParams();\n\n\n\tuseEffect(() => {\n\t\tfetch(`http://localhost:8080/restaurantes/${restaurantId}`)\n\t\t\t.then((res) => res.json())\n\t\t\t.then((json) => {\n\t\t\t\tif (json.status === 404) {\n\t\t\t\t\tsetStatusError(true);\n\t\t\t\t\tsetRestaurantName(\"Su restaurante no ha sido encontrado.\");\n\t\t\t\t} else {\n\t\t\t\t\tsetRestaurantName(json.name);\n\t\t\t\t\tsetRestaurantLoading(true)\n\t\t\t\t}\n\t\t\t});\n\t\tfetch(`http://localhost:8080/mesas/${restaurantId}/${tableId}`)\n\t\t\t.then((res) => res.json())\n\t\t\t.then((json) => {\n\t\t\t\tif (json.status === 404) {\n\t\t\t\t\tsetStatusError(true);\n\t\t\t\t\tsetRestaurantName(\"Su mesa no ha sido encontrado.\");\n\t\t\t\t} else {\n                    setTable(json);\n\t\t\t\t\tsetRestaurantLoading(true);\n\t\t\t\t\tsetColor(!json.calling_server)\n\t\t\t\t}\n\t\t\t});\n\t}, []);\n\n    const handleMozo = () =>{\n        fetch(`http://localhost:8080/mesas/${restaurantId}/${tableId}/server`, {\n\t\t\tmethod: \"PUT\",\n\t\t\tbody: JSON.stringify({}),\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t})\n\t\t.then((res) => res.json())\n\t\t.then((json) => {\n\t\t\tsetTable(json);\n\t\t\tsetColor(table.calling_server);\n\t\t\tif (color === true){\n\t\t\t\twindow.alert(`mozo llamado`);\n\t\t\t}else{\n\t\t\t\twindow.alert(`mozo liberado`);\n\t\t\t}\n\t\t\t\n\t\t})\n    };\n\n\treturn (\n\t\trestaurantLoading ? (\n\t\t\t<div >\n\t\t\t\t<div className={styles.titleContainer}>\n\t\t\t\t\t<Typography variant=\"h3\" component=\"h1\">{restaurantName}</Typography>\n\t\t\t\t\t<GoBackButton route={ROUTES.HOME} />\n                </div>\n\t\t\t\t\n\t\t\t\t<Typography variant=\"h5\" className={styles.subtitle}>\n\t\t\t\t\tMesa {tableId}\n\t\t\t\t</Typography>\n\t\t\t\n            \t<div className={styles.displayButtonsColumn}>\n\t\t\t\t\t<ButtonGroup\n            \t    orientation=\"vertical\"\n\t\t\t\t\talign=\"center\">\n\t\t    \t        <Button variant=\"text\" href={`/menu/${restaurantId}?mesa=${tableId}`}> \n\n            \t            Ver carta\n            \t        </Button>\n\n\t\t    \t        <Button color=\"primary\" variant=\"text\" href={`/restaurante/${restaurantId}/hacer_pedido?mesa=${tableId}`}> \n            \t            Hacer pedido\n            \t        </Button>\n\n            \t        <Button\n            \t        onClick = {handleMozo}\n            \t        color={color ? \"primary\" : \"secondary\"}\n            \t        variant={color ? \"text\" : \"contained\"}\n\t\t\t\t\t\t> \n            \t        \t{color ? \"LLamar mozo\" : \"Liberar mozo\"}\n            \t        </Button>\n\t\t\t\t\t</ButtonGroup>\n            \t</div>\n\t\t\t</div>\n\t\t) : (\n\t\t\t<p>Recuperando informaci√≥n del restaurante.</p>\n\t\t)\n\t\t\n\t);\n};\nexport default WelcomeTable;"]},"metadata":{},"sourceType":"module"}