{"ast":null,"code":"import _slicedToArray from\"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Button,Card,CardContent,Typography}from\"@mui/material\";import styles from\"../../styles.module.scss\";import IconButton from'@mui/material/IconButton';import DeleteIcon from'@mui/icons-material/Delete';import Tooltip from'@mui/material/Tooltip';var DisplayTable=function DisplayTable(_ref){var table=_ref.table;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),statusError=_useState2[0],setStatusError=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),occupied=_useState4[0],setOccupied=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),server=_useState6[0],setServer=_useState6[1];useEffect(function(){fetch(\"https://ver-la-carta.herokuapp.com/mesas/\".concat(table.restaurantId,\"/\").concat(table.tableID)).then(function(res){return res.json();}).then(function(json){if(json.status===404){setStatusError(true);}else{setServer(table.calling_server);setOccupied(table.status);}});},[]);var handleDelete=function handleDelete(){window.location.reload(false);fetch(\"https://ver-la-carta.herokuapp.com/mesas/\".concat(table.restaurantId,\"/\").concat(table.tableID),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\"}});};return/*#__PURE__*/React.createElement(\"div\",{className:styles.cardColumns},/*#__PURE__*/React.createElement(Card,{sx:{maxWidth:345}},/*#__PURE__*/React.createElement(CardContent,{className:styles.cards},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:styles.tableTitle},/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",component:\"h4\"},\"Mesa \",table.tableNumber),/*#__PURE__*/React.createElement(Tooltip,{title:\"Eliminar mesa\"},/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"delete\",onClick:handleDelete},/*#__PURE__*/React.createElement(DeleteIcon,null)))),/*#__PURE__*/React.createElement(\"div\",{className:styles.tableAttributes},/*#__PURE__*/React.createElement(Typography,{color:!occupied?\"green\":\"crimson\"},occupied?\"ocupada\":\"libre\"),/*#__PURE__*/React.createElement(Typography,{color:!server?\"green\":\"crimson\"},server?\"llamaron mozo\":\"mozo libre\"))))));};export default DisplayTable;","map":{"version":3,"sources":["/home/chiara/repos/arquiweb-tp1/react-frontend/src/screens/RestaurantManagement/FetchTables/DisplayTable/index.js"],"names":["React","useState","useEffect","Button","Card","CardContent","Typography","styles","IconButton","DeleteIcon","Tooltip","DisplayTable","table","statusError","setStatusError","occupied","setOccupied","server","setServer","fetch","restaurantId","tableID","then","res","json","status","calling_server","handleDelete","window","location","reload","method","headers","cardColumns","maxWidth","cards","tableTitle","tableNumber","tableAttributes"],"mappings":"qKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,WAAvB,CAAoCC,UAApC,KAAqD,eAArD,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,4BAAvB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAa,IAAXC,CAAAA,KAAW,MAAXA,KAAW,CACjC,cAAsCX,QAAQ,CAAC,KAAD,CAA9C,wCAAOY,WAAP,eAAoBC,cAApB,eACG,eAAgCb,QAAQ,EAAxC,yCAAOc,QAAP,eAAiBC,WAAjB,eACH,eAA4Bf,QAAQ,EAApC,yCAAOgB,MAAP,eAAeC,SAAf,eAEAhB,SAAS,CAAC,UAAM,CACfiB,KAAK,oDAA6CP,KAAK,CAACQ,YAAnD,aAAmER,KAAK,CAACS,OAAzE,EAAL,CACEC,IADF,CACO,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADP,EAEEF,IAFF,CAEO,SAACE,IAAD,CAAU,CACf,GAAIA,IAAI,CAACC,MAAL,GAAgB,GAApB,CAAyB,CACxBX,cAAc,CAAC,IAAD,CAAd,CACA,CAFD,IAEK,CACJI,SAAS,CAACN,KAAK,CAACc,cAAP,CAAT,CACAV,WAAW,CAACJ,KAAK,CAACa,MAAP,CAAX,CACA,CACD,CATF,EAUA,CAXQ,CAWN,EAXM,CAAT,CAaA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACpBC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB,EACAX,KAAK,oDAA6CP,KAAK,CAACQ,YAAnD,aAAmER,KAAK,CAACS,OAAzE,EAAoF,CACrFU,MAAM,CAAE,QAD6E,CAErFC,OAAO,CAAE,CACL,eAAgB,kBADX,CAF4E,CAApF,CAAL,CAMH,CARJ,CAUA,mBACA,2BAAK,SAAS,CAAEzB,MAAM,CAAC0B,WAAvB,eACC,oBAAC,IAAD,EAAM,EAAE,CAAE,CAAEC,QAAQ,CAAE,GAAZ,CAAV,eACC,oBAAC,WAAD,EAAa,SAAS,CAAE3B,MAAM,CAAC4B,KAA/B,eACC,4CACC,2BAAK,SAAS,CAAE5B,MAAM,CAAC6B,UAAvB,eACC,oBAAC,UAAD,EAAY,OAAO,CAAC,IAApB,CAAyB,SAAS,CAAC,IAAnC,UAA8CxB,KAAK,CAACyB,WAApD,CADD,cAEC,oBAAC,OAAD,EAAS,KAAK,CAAC,eAAf,eACgB,oBAAC,UAAD,EAAY,aAAW,QAAvB,CAAgC,OAAO,CAAEV,YAAzC,eACI,oBAAC,UAAD,MADJ,CADhB,CAFD,CADD,cASC,2BAAK,SAAS,CAAEpB,MAAM,CAAC+B,eAAvB,eAEC,oBAAC,UAAD,EAAY,KAAK,CAAE,CAACvB,QAAD,CAAY,OAAZ,CAAsB,SAAzC,EACEA,QAAQ,CAAG,SAAH,CAAe,OADzB,CAFD,cAMC,oBAAC,UAAD,EAAY,KAAK,CAAE,CAACE,MAAD,CAAU,OAAV,CAAoB,SAAvC,EACCA,MAAM,CAAG,eAAH,CAAqB,YAD5B,CAND,CATD,CADD,CADD,CADD,CADA,CA6BA,CAzDD,CA6DA,cAAeN,CAAAA,YAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Button, Card, CardContent, Typography} from \"@mui/material\";\nimport styles from \"../../styles.module.scss\"\nimport IconButton from '@mui/material/IconButton';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport Tooltip from '@mui/material/Tooltip';\n\nconst DisplayTable = ({table}) => {\n\tconst [statusError, setStatusError] = useState(false);\n    const [occupied, setOccupied] = useState();\n\tconst [server, setServer] = useState();\n\n\tuseEffect(() => {\n\t\tfetch(`https://ver-la-carta.herokuapp.com/mesas/${table.restaurantId}/${table.tableID}`)\n\t\t\t.then((res) => res.json())\n\t\t\t.then((json) => {\n\t\t\t\tif (json.status === 404) {\n\t\t\t\t\tsetStatusError(true);\n\t\t\t\t}else{\n\t\t\t\t\tsetServer(table.calling_server)\n\t\t\t\t\tsetOccupied(table.status)\n\t\t\t\t}\n\t\t\t});\n\t}, []);\n\n\tconst handleDelete = () => {\n        window.location.reload(false);\n        fetch(`https://ver-la-carta.herokuapp.com/mesas/${table.restaurantId}/${table.tableID}`, {\n            method: \"DELETE\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        })\n    };\n\t\n\treturn(\n\t<div className={styles.cardColumns}>\t\n\t\t<Card sx={{ maxWidth: 345 }}> \n\t\t\t<CardContent className={styles.cards} >\n\t\t\t\t<div>\n\t\t\t\t\t<div className={styles.tableTitle}>\n\t\t\t\t\t\t<Typography variant=\"h6\" component=\"h4\">Mesa {table.tableNumber}</Typography>\n\t\t\t\t\t\t<Tooltip title=\"Eliminar mesa\" >\n                \t\t    <IconButton aria-label=\"delete\" onClick={handleDelete}>\n                \t\t        <DeleteIcon />\n                \t\t    </IconButton>\n                \t\t</Tooltip>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={styles.tableAttributes}>\n\n\t\t\t\t\t\t<Typography color={!occupied ? \"green\" : \"crimson\"} > \n\t\t\t\t\t\t\t{occupied ? \"ocupada\" : \"libre\"} \n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t<Typography color={!server ? \"green\" : \"crimson\"} > \n\t\t\t\t\t\t{server ? \"llamaron mozo\" : \"mozo libre\"}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</CardContent>\n    \t</Card>\n\t</div>\n\t)\n};\n\n\n\nexport default DisplayTable;"]},"metadata":{},"sourceType":"module"}