{"ast":null,"code":"import _slicedToArray from \"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/chiara/repos/arquiweb-tp1/react-frontend/src/screens/PendingOrders/index.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router\";\nimport styles from \"./styles.module.scss\";\nimport GoBackButton from \"../../components/GoBack\";\nimport DisplayOrder from \"./components/DisplayOrderPending\";\nimport { ROUTES } from \"../../constants/routes\";\nimport { pendingFilter } from \"./utils/filters\";\nimport { Typography } from \"@mui/material\";\n\nvar PendingOrders = function PendingOrders() {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      restaurantName = _useState2[0],\n      setRestaurantName = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      restaurantLoading = _useState4[0],\n      setRestaurantLoading = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      statusError = _useState6[0],\n      setStatusError = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      pendingOrders = _useState8[0],\n      setPendingOrders = _useState8[1];\n\n  var _useParams = useParams(),\n      restaurantId = _useParams.id;\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      ordersLoading = _useState10[0],\n      setOrdersLoading = _useState10[1];\n\n  useEffect(function () {\n    fetch(\"http://localhost:8080/restaurantes/\".concat(restaurantId)).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      if (json.status === 404) {\n        setStatusError(true);\n        setRestaurantName(\"Su restaurante no ha sido encontrado.\");\n      } else {\n        setRestaurantName(json.name);\n        setRestaurantLoading(true);\n      }\n    });\n    fetch(\"http://localhost:8080/restaurantes/\".concat(restaurantId, \"/pedidos\")).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      if (json.status === 404) {\n        setStatusError(true);\n        setRestaurantName(\"Su restaurante no ha sido encontrado.\");\n      } else {\n        setPendingOrders(json.filter(pendingFilter));\n        setOrdersLoading(true);\n      }\n    }); // apiGet(`http://localhost:8080/restaurantes/${restaurantId}`)\n  }, []);\n  return restaurantLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.titleContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h3\",\n    component: \"h1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }, restaurantName), /*#__PURE__*/React.createElement(GoBackButton, {\n    route: ROUTES.HOME,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, ordersLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.displayOrdersColumns,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    align: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 29\n    }\n  }, \" Pedidos pendientes \"), pendingOrders.map(function (order) {\n    return /*#__PURE__*/React.createElement(DisplayOrder, {\n      order: order,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 33\n      }\n    });\n  }))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }, \"Recuperando informaci\\xF3n de pedidos pendientes.\"))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"Recuperando informaci\\xF3n del restaurante.\");\n};\n\nexport default PendingOrders;","map":{"version":3,"sources":["/home/chiara/repos/arquiweb-tp1/react-frontend/src/screens/PendingOrders/index.js"],"names":["React","useState","useEffect","useParams","styles","GoBackButton","DisplayOrder","ROUTES","pendingFilter","Typography","PendingOrders","restaurantName","setRestaurantName","restaurantLoading","setRestaurantLoading","statusError","setStatusError","pendingOrders","setPendingOrders","restaurantId","id","ordersLoading","setOrdersLoading","fetch","then","res","json","status","name","filter","titleContainer","HOME","displayOrdersColumns","map","order"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router\";\nimport styles from \"./styles.module.scss\";\nimport GoBackButton from \"../../components/GoBack\";\nimport DisplayOrder from \"./components/DisplayOrderPending\";\nimport { ROUTES } from \"../../constants/routes\";\nimport { pendingFilter } from \"./utils/filters\";\nimport { Typography} from \"@mui/material\";\n\nconst PendingOrders = () => {\n    const [restaurantName, setRestaurantName] = useState();\n    const [restaurantLoading, setRestaurantLoading] = useState(false);\n    const [statusError, setStatusError] = useState(false);\n    const [pendingOrders, setPendingOrders] = useState([]);\n\n    const { id: restaurantId } = useParams();\n    const [ordersLoading, setOrdersLoading] = useState(false);\n\n    useEffect(() => {\n        fetch(`http://localhost:8080/restaurantes/${restaurantId}`)\n            .then((res) => res.json())\n            .then((json) => {\n                if (json.status === 404) {\n                    setStatusError(true);\n                    setRestaurantName(\"Su restaurante no ha sido encontrado.\");\n                } else {\n                    setRestaurantName(json.name);\n                    setRestaurantLoading(true)\n                }\n            });\n\n        fetch(`http://localhost:8080/restaurantes/${restaurantId}/pedidos`)\n            .then((res) => res.json())\n            .then((json) => {\n                if (json.status === 404) {\n                    setStatusError(true);\n                    setRestaurantName(\"Su restaurante no ha sido encontrado.\");\n                } else {\n                    setPendingOrders(json.filter(pendingFilter))\n                    setOrdersLoading(true)                  \n                }\n            });\n        // apiGet(`http://localhost:8080/restaurantes/${restaurantId}`)\n    }, []);\n\n    \n    return (\n        restaurantLoading ? (\n            <div>\n                <div className={styles.titleContainer}>\n                    <Typography variant=\"h3\" component=\"h1\">{restaurantName}</Typography>\n\n                    <GoBackButton route={ROUTES.HOME} />\n                </div>\n                \n                <div>{(ordersLoading) ? (\n                    <div className={styles.displayOrdersColumns}>\n                        <div>\n                            <Typography variant=\"h5\" align=\"center\"> Pedidos pendientes </Typography>\n                            {pendingOrders.map(order => (\n                                <DisplayOrder\n                                    order={order}\n                                />\n                            ))}\n                        </div>\n                    </div>\n                    ) : (\n                        <p>Recuperando información de pedidos pendientes.</p>\n                    )}\n                </div>\n            </div>             \n        ) : (\n            <p>Recuperando información del restaurante.</p>\n        )\n    )\n}\n\nexport default PendingOrders"]},"metadata":{},"sourceType":"module"}