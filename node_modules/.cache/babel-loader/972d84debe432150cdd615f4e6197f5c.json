{"ast":null,"code":"import _slicedToArray from \"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/chiara/repos/arquiweb-tp1/react-frontend/src/screens/CurrentOrders/index.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router\";\nimport Typography from \"@mui/material/Typography\";\nimport GoBackButton from \"../../components/GoBack\";\nimport { apiGet, apiPost } from \"../../utils/services\";\nimport { ROUTES } from \"../../constants/routes\";\nimport styles from \"./styles.module.scss\";\nimport { deniedFilter, pendingFilter, inProgressFilter, readyFilter } from \"./utils/filters\";\nimport DisplayOrderInProgress from \"./components/DisplayOrderInProgress\";\nimport DisplayOrderReady from \"./components/DisplayOrderReady\";\n\nvar CurrentOrders = function CurrentOrders() {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      restaurantName = _useState2[0],\n      setRestaurantName = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      restaurantLoading = _useState4[0],\n      setRestaurantLoading = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      ordersLoading = _useState6[0],\n      setOrdersLoading = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      statusError = _useState8[0],\n      setStatusError = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      deniedOrders = _useState10[0],\n      setDeniedOrders = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      pendingOrders = _useState12[0],\n      setPendingOrders = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      inProgressOrders = _useState14[0],\n      setInProgressOrders = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      readyOrders = _useState16[0],\n      setReadyOrders = _useState16[1];\n\n  var _useParams = useParams(),\n      restaurantId = _useParams.id;\n\n  useEffect(function () {\n    fetch(\"https://ver-la-carta.herokuapp.com/restaurantes/\".concat(restaurantId)).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      if (json.status === 404) {\n        setStatusError(true);\n        setRestaurantName(\"Su restaurante no ha sido encontrado.\");\n      } else {\n        setRestaurantName(json.name);\n        setRestaurantLoading(true);\n      }\n    });\n    fetch(\"https://ver-la-carta.herokuapp.com/restaurantes/\".concat(restaurantId, \"/pedidos\")).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      if (json.status === 404) {\n        setStatusError(true);\n        setRestaurantName(\"Su restaurante no ha sido encontrado.\");\n      } else {\n        setDeniedOrders(json.filter(deniedFilter));\n        setPendingOrders(json.filter(pendingFilter));\n        setInProgressOrders(json.filter(inProgressFilter));\n        setReadyOrders(json.filter(readyFilter));\n        setOrdersLoading(true);\n      }\n    });\n  }, []);\n  return restaurantLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.titleContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h3\",\n    component: \"h1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, restaurantName), /*#__PURE__*/React.createElement(GoBackButton, {\n    route: ROUTES.HOME,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, ordersLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.displayOrdersColumns,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    align: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, \" \", \"Pedidos en progreso\", \" \"), inProgressOrders.map(function (order) {\n    return /*#__PURE__*/React.createElement(DisplayOrderInProgress, {\n      order: order,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 10\n      }\n    });\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    align: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, \" \", \"Pedidos listos\", \" \"), readyOrders.map(function (order) {\n    return /*#__PURE__*/React.createElement(DisplayOrderReady, {\n      order: order,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 10\n      }\n    });\n  }))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, \"Recuperando informaci\\xF3n de pedidos en curso.\")))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 3\n    }\n  }, \"Recuperando informaci\\xF3n del restaurante.\");\n};\n\nexport default CurrentOrders;","map":{"version":3,"sources":["/home/chiara/repos/arquiweb-tp1/react-frontend/src/screens/CurrentOrders/index.js"],"names":["React","useState","useEffect","useParams","Typography","GoBackButton","apiGet","apiPost","ROUTES","styles","deniedFilter","pendingFilter","inProgressFilter","readyFilter","DisplayOrderInProgress","DisplayOrderReady","CurrentOrders","restaurantName","setRestaurantName","restaurantLoading","setRestaurantLoading","ordersLoading","setOrdersLoading","statusError","setStatusError","deniedOrders","setDeniedOrders","pendingOrders","setPendingOrders","inProgressOrders","setInProgressOrders","readyOrders","setReadyOrders","restaurantId","id","fetch","then","res","json","status","name","filter","titleContainer","HOME","displayOrdersColumns","map","order"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router\";\nimport Typography from \"@mui/material/Typography\";\n\nimport GoBackButton from \"../../components/GoBack\";\nimport { apiGet, apiPost } from \"../../utils/services\";\nimport { ROUTES } from \"../../constants/routes\";\n\nimport styles from \"./styles.module.scss\";\nimport {\n\tdeniedFilter,\n\tpendingFilter,\n\tinProgressFilter,\n\treadyFilter,\n} from \"./utils/filters\";\nimport DisplayOrderInProgress from \"./components/DisplayOrderInProgress\";\nimport DisplayOrderReady from \"./components/DisplayOrderReady\";\n\nconst CurrentOrders = () => {\n\tconst [restaurantName, setRestaurantName] = useState();\n\tconst [restaurantLoading, setRestaurantLoading] = useState(false);\n\tconst [ordersLoading, setOrdersLoading] = useState(false);\n\tconst [statusError, setStatusError] = useState(false);\n\n\tconst [deniedOrders, setDeniedOrders] = useState([]);\n\tconst [pendingOrders, setPendingOrders] = useState([]);\n\tconst [inProgressOrders, setInProgressOrders] = useState([]);\n\tconst [readyOrders, setReadyOrders] = useState([]);\n\n\tconst { id: restaurantId } = useParams();\n\n\tuseEffect(() => {\n\t\tfetch(`https://ver-la-carta.herokuapp.com/restaurantes/${restaurantId}`)\n\t\t\t.then((res) => res.json())\n\t\t\t.then((json) => {\n\t\t\t\tif (json.status === 404) {\n\t\t\t\t\tsetStatusError(true);\n\t\t\t\t\tsetRestaurantName(\"Su restaurante no ha sido encontrado.\");\n\t\t\t\t} else {\n\t\t\t\t\tsetRestaurantName(json.name);\n\t\t\t\t\tsetRestaurantLoading(true);\n\t\t\t\t}\n\t\t\t});\n\n\t\tfetch(\n\t\t\t`https://ver-la-carta.herokuapp.com/restaurantes/${restaurantId}/pedidos`\n\t\t)\n\t\t\t.then((res) => res.json())\n\t\t\t.then((json) => {\n\t\t\t\tif (json.status === 404) {\n\t\t\t\t\tsetStatusError(true);\n\t\t\t\t\tsetRestaurantName(\"Su restaurante no ha sido encontrado.\");\n\t\t\t\t} else {\n\t\t\t\t\tsetDeniedOrders(json.filter(deniedFilter));\n\t\t\t\t\tsetPendingOrders(json.filter(pendingFilter));\n\t\t\t\t\tsetInProgressOrders(json.filter(inProgressFilter));\n\t\t\t\t\tsetReadyOrders(json.filter(readyFilter));\n\t\t\t\t\tsetOrdersLoading(true);\n\t\t\t\t}\n\t\t\t});\n\t}, []);\n\n\treturn restaurantLoading ? (\n\t\t<div>\n\t\t\t<div className={styles.titleContainer}>\n\t\t\t\t<Typography variant=\"h3\" component=\"h1\">\n\t\t\t\t\t{restaurantName}\n\t\t\t\t</Typography>\n\t\t\t\t<GoBackButton route={ROUTES.HOME} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t{ordersLoading ? (\n\t\t\t\t\t\t<div className={styles.displayOrdersColumns}>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Typography variant=\"h5\" align=\"center\">\n\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\tPedidos en progreso{\" \"}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t{inProgressOrders.map((order) => (\n\t\t\t\t\t\t\t\t\t<DisplayOrderInProgress order={order} />\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Typography variant=\"h5\" align=\"center\">\n\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\tPedidos listos{\" \"}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t{readyOrders.map((order) => (\n\t\t\t\t\t\t\t\t\t<DisplayOrderReady order={order} />\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p>Recuperando información de pedidos en curso.</p>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t) : (\n\t\t<p>Recuperando información del restaurante.</p>\n\t);\n};\n\nexport default CurrentOrders;\n"]},"metadata":{},"sourceType":"module"}