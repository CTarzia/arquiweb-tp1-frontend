{"ast":null,"code":"import _slicedToArray from\"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{CircularProgress}from\"@mui/material\";import PublicTopbar from\"../../components/PublicTopbar\";import{ROUTES}from\"../../constants/routes\";import{UserContext}from\"../../context\";import styles from\"./styles.module.scss\";var BackofficeHome=function BackofficeHome(_ref){var history=_ref.history;var _useContext=useContext(UserContext),userId=_useContext.userId,restaurantId=_useContext.restaurantId,restaurant=_useContext.restaurant,setRestaurant=_useContext.setRestaurant;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];useEffect(function(){if(userId&&restaurantId){setLoading(true);fetch(\"https://ver-la-carta.herokuapp.com/restaurantes/\".concat(restaurantId)).then(function(res){return res.json();}).then(function(json){setRestaurant(json);setLoading(false);});}else{history.push(ROUTES.LOGIN);}},[]);return/*#__PURE__*/React.createElement(\"div\",{className:styles.container},/*#__PURE__*/React.createElement(PublicTopbar,{title:restaurant.name?\"Bienvenido a \".concat(restaurant.name,\"!\"):\"Bienvenido!\",history:history}),loading?/*#__PURE__*/React.createElement(CircularProgress,{classes:{root:styles.progress}}):/*#__PURE__*/React.createElement(\"div\",{className:styles.buttonsContainer},/*#__PURE__*/React.createElement(Link,{to:ROUTES.RESTAURANT_MANAGMENT},/*#__PURE__*/React.createElement(\"button\",{className:styles.button},\"Gestionar mi local\")),/*#__PURE__*/React.createElement(Link,{to:ROUTES.ORDERS_MANAGEMENT},/*#__PURE__*/React.createElement(\"button\",{className:styles.button},\"Gestionar pedidos\")),/*#__PURE__*/React.createElement(Link,{to:ROUTES.TABLE_MANAGEMENT},/*#__PURE__*/React.createElement(\"button\",{className:styles.button},\"Gestionar mesas\"))));};export default BackofficeHome;","map":{"version":3,"sources":["/home/chiara/repos/arquiweb-tp1/react-frontend/src/screens/BackofficeHome/index.js"],"names":["React","useContext","useEffect","useState","Link","CircularProgress","PublicTopbar","ROUTES","UserContext","styles","BackofficeHome","history","userId","restaurantId","restaurant","setRestaurant","loading","setLoading","fetch","then","res","json","push","LOGIN","container","name","root","progress","buttonsContainer","RESTAURANT_MANAGMENT","button","ORDERS_MANAGEMENT","TABLE_MANAGEMENT"],"mappings":"qKAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,gBAAT,KAAiC,eAAjC,CAEA,MAAOC,CAAAA,YAAP,KAAyB,+BAAzB,CACA,OAASC,MAAT,KAAuB,wBAAvB,CACA,OAASC,WAAT,KAA4B,eAA5B,CAEA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CACvC,gBACCV,UAAU,CAACO,WAAD,CADX,CAAQI,MAAR,aAAQA,MAAR,CAAgBC,YAAhB,aAAgBA,YAAhB,CAA8BC,UAA9B,aAA8BA,UAA9B,CAA0CC,aAA1C,aAA0CA,aAA1C,CAGA,cAA8BZ,QAAQ,CAAC,KAAD,CAAtC,wCAAOa,OAAP,eAAgBC,UAAhB,eAEAf,SAAS,CAAC,UAAM,CACf,GAAIU,MAAM,EAAIC,YAAd,CAA4B,CAC3BI,UAAU,CAAC,IAAD,CAAV,CACAC,KAAK,2DAAoDL,YAApD,EAAL,CACEM,IADF,CACO,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADP,EAEEF,IAFF,CAEO,SAACE,IAAD,CAAU,CACfN,aAAa,CAACM,IAAD,CAAb,CACAJ,UAAU,CAAC,KAAD,CAAV,CACA,CALF,EAMA,CARD,IAQO,CACNN,OAAO,CAACW,IAAR,CAAaf,MAAM,CAACgB,KAApB,EACA,CACD,CAZQ,CAYN,EAZM,CAAT,CAcA,mBACC,2BAAK,SAAS,CAAEd,MAAM,CAACe,SAAvB,eACC,oBAAC,YAAD,EACC,KAAK,CACJV,UAAU,CAACW,IAAX,wBAAkCX,UAAU,CAACW,IAA7C,MAAuD,aAFzD,CAIC,OAAO,CAAEd,OAJV,EADD,CAOEK,OAAO,cACP,oBAAC,gBAAD,EAAkB,OAAO,CAAE,CAAEU,IAAI,CAAEjB,MAAM,CAACkB,QAAf,CAA3B,EADO,cAGP,2BAAK,SAAS,CAAElB,MAAM,CAACmB,gBAAvB,eACC,oBAAC,IAAD,EAAM,EAAE,CAAErB,MAAM,CAACsB,oBAAjB,eACC,8BAAQ,SAAS,CAAEpB,MAAM,CAACqB,MAA1B,uBADD,CADD,cAKC,oBAAC,IAAD,EAAM,EAAE,CAAEvB,MAAM,CAACwB,iBAAjB,eACC,8BAAQ,SAAS,CAAEtB,MAAM,CAACqB,MAA1B,sBADD,CALD,cASC,oBAAC,IAAD,EAAM,EAAE,CAAEvB,MAAM,CAACyB,gBAAjB,eACC,8BAAQ,SAAS,CAAEvB,MAAM,CAACqB,MAA1B,oBADD,CATD,CAVF,CADD,CA2BA,CA/CD,CAiDA,cAAepB,CAAAA,cAAf","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { CircularProgress } from \"@mui/material\";\n\nimport PublicTopbar from \"../../components/PublicTopbar\";\nimport { ROUTES } from \"../../constants/routes\";\nimport { UserContext } from \"../../context\";\n\nimport styles from \"./styles.module.scss\";\n\nconst BackofficeHome = ({ history }) => {\n\tconst { userId, restaurantId, restaurant, setRestaurant } =\n\t\tuseContext(UserContext);\n\n\tconst [loading, setLoading] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (userId && restaurantId) {\n\t\t\tsetLoading(true);\n\t\t\tfetch(`https://ver-la-carta.herokuapp.com/restaurantes/${restaurantId}`)\n\t\t\t\t.then((res) => res.json())\n\t\t\t\t.then((json) => {\n\t\t\t\t\tsetRestaurant(json);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t});\n\t\t} else {\n\t\t\thistory.push(ROUTES.LOGIN);\n\t\t}\n\t}, []);\n\n\treturn (\n\t\t<div className={styles.container}>\n\t\t\t<PublicTopbar\n\t\t\t\ttitle={\n\t\t\t\t\trestaurant.name ? `Bienvenido a ${restaurant.name}!` : \"Bienvenido!\"\n\t\t\t\t}\n\t\t\t\thistory={history}\n\t\t\t/>\n\t\t\t{loading ? (\n\t\t\t\t<CircularProgress classes={{ root: styles.progress }} />\n\t\t\t) : (\n\t\t\t\t<div className={styles.buttonsContainer}>\n\t\t\t\t\t<Link to={ROUTES.RESTAURANT_MANAGMENT}>\n\t\t\t\t\t\t<button className={styles.button}>Gestionar mi local</button>\n\t\t\t\t\t</Link>\n\n\t\t\t\t\t<Link to={ROUTES.ORDERS_MANAGEMENT}>\n\t\t\t\t\t\t<button className={styles.button}>Gestionar pedidos</button>\n\t\t\t\t\t</Link>\n\n\t\t\t\t\t<Link to={ROUTES.TABLE_MANAGEMENT}>\n\t\t\t\t\t\t<button className={styles.button}>Gestionar mesas</button>\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default BackofficeHome;\n"]},"metadata":{},"sourceType":"module"}