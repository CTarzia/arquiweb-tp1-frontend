{"ast":null,"code":"import _classCallCheck from\"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import GetOrderStatus from\"./components/GetOrderStatus\";var OrderStatus=/*#__PURE__*/function(_React$Component){_inherits(OrderStatus,_React$Component);var _super=_createSuper(OrderStatus);function OrderStatus(props){var _this;_classCallCheck(this,OrderStatus);_this=_super.call(this,props);_this.state={order:String,dataisLoaded:false};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(OrderStatus,[{key:\"handleChange\",value:function handleChange(event){this.setState({value:event.target.value});}},{key:\"handleSubmit\",value:function handleSubmit(event){var _this2=this;event.preventDefault();var params=this.state.value.split(\"-\").map(function(val){return parseInt(val);});console.log(params);switch(params[0]){case 1:fetch(\"https://ver-la-carta.herokuapp.com/orders/\"+params[2]).then(function(res){return res.json();}).then(function(json){_this2.setState({order:\"Hola \".concat(json.clientName,\", su numero de pedido \").concat(_this2.state.value,\" se encuentra en estado: \").concat(json.status,\".\\n\\t\\t\\t\\t\\t\\t\\t\\nPedido: \").concat(json.content)});});break;case 2:fetch(\"https://arquiweb-tp1.herokuapp.com/api/restaurants/\".concat(params[1],\"/orders/\").concat(params[2],\"/check\")).then(function(res){return res.json();}).then(function(json){_this2.setState({order:\"Hola , su numero de pedido \".concat(_this2.state.value,\" se encuentra en estado: \").concat(json.state_text,\".\")});});break;case 3:fetch(\"http://moorfy.com:5000/clients/ask_status_of_order?order_id=\".concat(params[2])).then(function(res){return res.json();}).then(function(json){_this2.setState({order:\"Hola , su numero de pedido \".concat(_this2.state.value,\" se encuentra en estado: \").concat(json.order_status_id,\".\")});});break;default:window.alert(\"Ingreso un numero de pedido incorrecto\");break;}}},{key:\"render\",value:function render(){var order=this.state.order;var showError=order.status===\"404\";return/*#__PURE__*/React.createElement(GetOrderStatus,{handleSubmit:this.handleSubmit,handleChange:this.handleChange,inputValue:this.state.value,showError:showError,order:order});}}]);return OrderStatus;}(React.Component);export default OrderStatus;","map":{"version":3,"sources":["/home/chiara/repos/arquiweb-tp1/react-frontend/src/screens/OrderStatus/index.js"],"names":["React","GetOrderStatus","OrderStatus","props","state","order","String","dataisLoaded","handleChange","bind","handleSubmit","event","setState","value","target","preventDefault","params","split","map","val","parseInt","console","log","fetch","then","res","json","clientName","status","content","state_text","order_status_id","window","alert","showError","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport GetOrderStatus from \"./components/GetOrderStatus\";\n\nclass OrderStatus extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\torder: String,\n\t\t\tdataisLoaded: false,\n\t\t};\n\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t}\n\n\thandleChange(event) {\n\t\tthis.setState({ value: event.target.value });\n\t}\n\n\thandleSubmit(event) {\n\t\tevent.preventDefault();\n\t\tconst params = this.state.value.split(\"-\").map((val) => parseInt(val));\n\t\tconsole.log(params);\n\t\tswitch (params[0]) {\n\t\t\tcase 1:\n\t\t\t\tfetch(\"https://ver-la-carta.herokuapp.com/orders/\" + params[2])\n\t\t\t\t\t.then((res) => res.json())\n\t\t\t\t\t.then((json) => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\torder: `Hola ${json.clientName}, su numero de pedido ${this.state.value} se encuentra en estado: ${json.status}.\n\t\t\t\t\t\t\t\\nPedido: ${json.content}`,\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tfetch(\n\t\t\t\t\t`https://arquiweb-tp1.herokuapp.com/api/restaurants/${params[1]}/orders/${params[2]}/check`\n\t\t\t\t)\n\t\t\t\t\t.then((res) => res.json())\n\t\t\t\t\t.then((json) => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\torder: `Hola , su numero de pedido ${this.state.value} se encuentra en estado: ${json.state_text}.`,\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tfetch(\n\t\t\t\t\t`http://moorfy.com:5000/clients/ask_status_of_order?order_id=${params[2]}`\n\t\t\t\t)\n\t\t\t\t\t.then((res) => res.json())\n\t\t\t\t\t.then((json) => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\torder: `Hola , su numero de pedido ${this.state.value} se encuentra en estado: ${json.order_status_id}.`,\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\twindow.alert(\"Ingreso un numero de pedido incorrecto\");\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { order } = this.state;\n\n\t\tconst showError = order.status === \"404\";\n\n\t\treturn (\n\t\t\t<GetOrderStatus\n\t\t\t\thandleSubmit={this.handleSubmit}\n\t\t\t\thandleChange={this.handleChange}\n\t\t\t\tinputValue={this.state.value}\n\t\t\t\tshowError={showError}\n\t\t\t\torder={order}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default OrderStatus;\n"]},"metadata":{},"sourceType":"module"}