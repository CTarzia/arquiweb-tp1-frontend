{"ast":null,"code":"import _defineProperty from\"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/chiara/repos/arquiweb-tp1/react-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from\"react\";import Tabs from\"@mui/material/Tabs\";import Tab from\"@mui/material/Tab\";import{Dialog,DialogTitle,Typography,Box}from\"@mui/material\";import{CircularProgress}from\"@mui/material\";import PublicTopbar from\"../../components/PublicTopbar\";import{UserContext}from\"../../context\";import{ROUTES}from\"../../constants/routes\";import UploadImages from\"./UploadImages\";import FetchTables from\"./FetchTables\";import GeneralInformation from\"./components/GeneralInformation\";import styles from\"./styles.module.scss\";// pruebaLunes2\nvar RestaurantManagment=function RestaurantManagment(_ref){var history=_ref.history;var _useContext=useContext(UserContext),userId=_useContext.userId,restaurantId=_useContext.restaurantId,restaurant=_useContext.restaurant,setRestaurant=_useContext.setRestaurant;var _useState=useState(),_useState2=_slicedToArray(_useState,2),generalDialogOpen=_useState2[0],setGeneralDialogOpen=_useState2[1];var _useState3=useState({name:restaurant.name,workingHours:restaurant.workingHours,phoneNumber:restaurant.phoneNumber,latitude:restaurant.latitude,longitude:restaurant.longitude}),_useState4=_slicedToArray(_useState3,2),values=_useState4[0],setValues=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];useEffect(function(){if(!userId||!restaurantId){history.push(ROUTES.LOGIN);}},[]);var handleSubmit=function handleSubmit(evt){evt.preventDefault();setLoading(true);};var handleChange=function handleChange(e){var _e$target=e.target,id=_e$target.id,value=_e$target.value;setValues(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},id,value));});};console.log(restaurant);var handleEdit=function handleEdit(key){return setGeneralDialogOpen(key);};var handleEditAddress=function handleEditAddress(){return console.log(\"address\");};var handleCloseDialogs=function handleCloseDialogs(){return setGeneralDialogOpen(null);};return/*#__PURE__*/React.createElement(\"div\",{className:styles.container},/*#__PURE__*/React.createElement(PublicTopbar,{title:\"Gestionar: \".concat(restaurant.name),history:history,withGoBack:true}),/*#__PURE__*/React.createElement(\"div\",{className:styles.content},/*#__PURE__*/React.createElement(GeneralInformation,{restaurant:restaurant,handleEdit:handleEdit,handleEditAddress:handleEditAddress}),/*#__PURE__*/React.createElement(Dialog,{open:generalDialogOpen,onClose:handleCloseDialogs},/*#__PURE__*/React.createElement(DialogTitle,null,\"Editar informacion\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit,className:styles.form},/*#__PURE__*/React.createElement(\"div\",{className:styles.input},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:generalDialogOpen,id:generalDialogOpen,onChange:handleChange,placeholder:restaurant[generalDialogOpen]})),/*#__PURE__*/React.createElement(\"button\",{className:loading?styles.disabledButton:styles.button,onClick:handleSubmit,disabled:loading},loading?/*#__PURE__*/React.createElement(CircularProgress,{classes:{root:styles.progress}}):\"Aceptar\")))));};export default RestaurantManagment;// function TabPanel(props) {\n// \tconst { children, value, index, ...other } = props;\n// \treturn (\n// \t\t<div\n// \t\t\trole=\"tabpanel\"\n// \t\t\thidden={value !== index}\n// \t\t\tid={`vertical-tabpanel-${index}`}\n// \t\t\taria-labelledby={`vertical-tab-${index}`}\n// \t\t\t{...other}\n// \t\t>\n// \t\t\t{value === index && (\n// \t\t\t\t<Box sx={{ p: 3 }}>\n// \t\t\t\t\t<Typography>{children}</Typography>\n// \t\t\t\t</Box>\n// \t\t\t)}\n// \t\t</div>\n// \t);\n// }\n// function a11yProps(index) {\n// \treturn {\n// \t\tid: `vertical-tab-${index}`,\n// \t\t\"aria-controls\": `vertical-tabpanel-${index}`,\n// \t};\n// }\n// const [value, setValue] = React.useState(0);\n// const handleChange = (event, newValue) => {\n// \tsetValue(newValue);\n// };","map":{"version":3,"sources":["/home/chiara/repos/arquiweb-tp1/react-frontend/src/screens/RestaurantManagement/index.js"],"names":["React","useContext","useEffect","useState","Tabs","Tab","Dialog","DialogTitle","Typography","Box","CircularProgress","PublicTopbar","UserContext","ROUTES","UploadImages","FetchTables","GeneralInformation","styles","RestaurantManagment","history","userId","restaurantId","restaurant","setRestaurant","generalDialogOpen","setGeneralDialogOpen","name","workingHours","phoneNumber","latitude","longitude","values","setValues","loading","setLoading","push","LOGIN","handleSubmit","evt","preventDefault","handleChange","e","target","id","value","prevState","console","log","handleEdit","key","handleEditAddress","handleCloseDialogs","container","content","form","input","disabledButton","button","root","progress"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport Tabs from \"@mui/material/Tabs\";\nimport Tab from \"@mui/material/Tab\";\nimport { Dialog, DialogTitle, Typography, Box } from \"@mui/material\";\nimport { CircularProgress } from \"@mui/material\";\n\nimport PublicTopbar from \"../../components/PublicTopbar\";\nimport { UserContext } from \"../../context\";\nimport { ROUTES } from \"../../constants/routes\";\n\nimport UploadImages from \"./UploadImages\";\nimport FetchTables from \"./FetchTables\";\n\nimport GeneralInformation from \"./components/GeneralInformation\";\nimport styles from \"./styles.module.scss\";\n\n// pruebaLunes2\n\nconst RestaurantManagment = ({ history }) => {\n\tconst { userId, restaurantId, restaurant, setRestaurant } =\n\t\tuseContext(UserContext);\n\n\tconst [generalDialogOpen, setGeneralDialogOpen] = useState();\n\tconst [values, setValues] = useState({\n\t\tname: restaurant.name,\n\t\tworkingHours: restaurant.workingHours,\n\t\tphoneNumber: restaurant.phoneNumber,\n\t\tlatitude: restaurant.latitude,\n\t\tlongitude: restaurant.longitude,\n\t});\n\tconst [loading, setLoading] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (!userId || !restaurantId) {\n\t\t\thistory.push(ROUTES.LOGIN);\n\t\t}\n\t}, []);\n\n\tconst handleSubmit = (evt) => {\n\t\tevt.preventDefault();\n\t\tsetLoading(true);\n\t};\n\n\tconst handleChange = (e) => {\n\t\tconst { id, value } = e.target;\n\t\tsetValues((prevState) => ({\n\t\t\t...prevState,\n\t\t\t[id]: value,\n\t\t}));\n\t};\n\n\tconsole.log(restaurant);\n\n\tconst handleEdit = (key) => setGeneralDialogOpen(key);\n\n\tconst handleEditAddress = () => console.log(\"address\");\n\n\tconst handleCloseDialogs = () => setGeneralDialogOpen(null);\n\n\treturn (\n\t\t<div className={styles.container}>\n\t\t\t<PublicTopbar\n\t\t\t\ttitle={`Gestionar: ${restaurant.name}`}\n\t\t\t\thistory={history}\n\t\t\t\twithGoBack\n\t\t\t/>\n\t\t\t<div className={styles.content}>\n\t\t\t\t<GeneralInformation\n\t\t\t\t\trestaurant={restaurant}\n\t\t\t\t\thandleEdit={handleEdit}\n\t\t\t\t\thandleEditAddress={handleEditAddress}\n\t\t\t\t/>\n\t\t\t\t<Dialog open={generalDialogOpen} onClose={handleCloseDialogs}>\n\t\t\t\t\t<DialogTitle>Editar informacion</DialogTitle>\n\t\t\t\t\t<form onSubmit={handleSubmit} className={styles.form}>\n\t\t\t\t\t\t<div className={styles.input}>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname={generalDialogOpen}\n\t\t\t\t\t\t\t\tid={generalDialogOpen}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tplaceholder={restaurant[generalDialogOpen]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName={loading ? styles.disabledButton : styles.button}\n\t\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t<CircularProgress classes={{ root: styles.progress }} />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\"Aceptar\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t</Dialog>\n\t\t\t</div>\n\n\t\t\t{/* <div className={styles.managementSection}>\n\t\t\t\t<div>\n\t\t\t\t\t<div className={styles.info}>\n\t\t\t\t\t\t<p>nombre del local:</p>\n\t\t\t\t\t\t<p>horarios:</p>\n\t\t\t\t\t\t<p>datos de contacto:</p>\n\t\t\t\t\t\t<p>direccion:</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Tabs\n\t\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\t\tvariant=\"scrollable\"\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\taria-label=\"Vertical tabs example\"\n\t\t\t\t\t\tsx={{ borderRight: 1, borderColor: \"divider\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Tab label=\"Editar Logo\" {...a11yProps(0)} />\n\t\t\t\t\t\t<Tab label=\"Editar Carta\" {...a11yProps(1)} />\n\t\t\t\t\t\t<Tab label=\"Editar Fotos\" {...a11yProps(2)} />\n\t\t\t\t\t\t<Tab label=\"Gestionar Mesas\" {...a11yProps(3)} />\n\t\t\t\t\t</Tabs>\n\t\t\t\t</div>\n\n\t\t\t\t<div className={styles.rectangleOfDeath}>\n\t\t\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t\t\tEditar logo...\n\t\t\t\t\t</TabPanel>\n\t\t\t\t\t<TabPanel value={value} index={1}>\n\t\t\t\t\t\tEditar carta...\n\t\t\t\t\t</TabPanel>\n\t\t\t\t\t<TabPanel value={value} index={2}>\n\t\t\t\t\t\t<UploadImages restaurantId={restaurantId} />\n\t\t\t\t\t</TabPanel>\n\t\t\t\t\t<TabPanel value={value} index={3}>\n\t\t\t\t\t\t<FetchTables restaurantId={restaurantId} />\n\t\t\t\t\t</TabPanel>\n\t\t\t\t</div>\n\t\t\t</div> */}\n\t\t</div>\n\t);\n};\n\nexport default RestaurantManagment;\n\n// function TabPanel(props) {\n// \tconst { children, value, index, ...other } = props;\n\n// \treturn (\n// \t\t<div\n// \t\t\trole=\"tabpanel\"\n// \t\t\thidden={value !== index}\n// \t\t\tid={`vertical-tabpanel-${index}`}\n// \t\t\taria-labelledby={`vertical-tab-${index}`}\n// \t\t\t{...other}\n// \t\t>\n// \t\t\t{value === index && (\n// \t\t\t\t<Box sx={{ p: 3 }}>\n// \t\t\t\t\t<Typography>{children}</Typography>\n// \t\t\t\t</Box>\n// \t\t\t)}\n// \t\t</div>\n// \t);\n// }\n\n// function a11yProps(index) {\n// \treturn {\n// \t\tid: `vertical-tab-${index}`,\n// \t\t\"aria-controls\": `vertical-tabpanel-${index}`,\n// \t};\n// }\n// const [value, setValue] = React.useState(0);\n// const handleChange = (event, newValue) => {\n// \tsetValue(newValue);\n// };\n"]},"metadata":{},"sourceType":"module"}