{"ast":null,"code":"import _slicedToArray from\"/home/widergy/Documents/Guido/UBA/arqweb/verLaCartaFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router\";import Typography from'@mui/material/Typography';import GoBackButton from\"../../components/GoBack\";import{apiGet,apiPost}from\"../../utils/services\";import{ROUTES}from\"../../constants/routes\";import styles from\"./styles.module.scss\";import{deniedFilter,pendingFilter,inProgressFilter,readyFilter}from\"./utils/filters\";import DisplayOrderInProgress from\"./components/DisplayOrderInProgress\";import DisplayOrderReady from\"./components/DisplayOrderReady\";var CurrentOrders=function CurrentOrders(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),restaurantName=_useState2[0],setRestaurantName=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),restaurantLoading=_useState4[0],setRestaurantLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),ordersLoading=_useState6[0],setOrdersLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),statusError=_useState8[0],setStatusError=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),deniedOrders=_useState10[0],setDeniedOrders=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),pendingOrders=_useState12[0],setPendingOrders=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),inProgressOrders=_useState14[0],setInProgressOrders=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),readyOrders=_useState16[0],setReadyOrders=_useState16[1];var _useParams=useParams(),restaurantId=_useParams.id;useEffect(function(){fetch(\"http://localhost:8080/restaurantes/\".concat(restaurantId)).then(function(res){return res.json();}).then(function(json){if(json.status===404){setStatusError(true);setRestaurantName(\"Su restaurante no ha sido encontrado.\");}else{setRestaurantName(json.name);setRestaurantLoading(true);}});fetch(\"http://localhost:8080/restaurantes/\".concat(restaurantId,\"/pedidos\")).then(function(res){return res.json();}).then(function(json){if(json.status===404){setStatusError(true);setRestaurantName(\"Su restaurante no ha sido encontrado.\");}else{setDeniedOrders(json.filter(deniedFilter));setPendingOrders(json.filter(pendingFilter));setInProgressOrders(json.filter(inProgressFilter));setReadyOrders(json.filter(readyFilter));setOrdersLoading(true);}});// apiGet(`http://localhost:8080/restaurantes/${restaurantId}`)\n},[]);return restaurantLoading?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:styles.titleContainer},/*#__PURE__*/React.createElement(Typography,{variant:\"h3\",component:\"h1\"},restaurantName),/*#__PURE__*/React.createElement(GoBackButton,{route:ROUTES.HOME})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,ordersLoading?/*#__PURE__*/React.createElement(\"div\",{className:styles.displayOrdersColumns},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Typography,{variant:\"h5\",align:\"center\"},\" Pedidos en progreso \"),inProgressOrders.map(function(order){return/*#__PURE__*/React.createElement(DisplayOrderInProgress,{order:order});})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Typography,{variant:\"h5\",align:\"center\"},\" Pedidos listos \"),readyOrders.map(function(order){return/*#__PURE__*/React.createElement(DisplayOrderReady,{order:order});}))):/*#__PURE__*/React.createElement(\"p\",null,\"Recuperando informaci\\xF3n de pedidos en curso.\")))):/*#__PURE__*/React.createElement(\"p\",null,\"Recuperando informaci\\xF3n del restaurante.\");};export default CurrentOrders;","map":{"version":3,"sources":["/home/widergy/Documents/Guido/UBA/arqweb/verLaCartaFront/src/screens/CurrentOrders/index.js"],"names":["React","useState","useEffect","useParams","Typography","GoBackButton","apiGet","apiPost","ROUTES","styles","deniedFilter","pendingFilter","inProgressFilter","readyFilter","DisplayOrderInProgress","DisplayOrderReady","CurrentOrders","restaurantName","setRestaurantName","restaurantLoading","setRestaurantLoading","ordersLoading","setOrdersLoading","statusError","setStatusError","deniedOrders","setDeniedOrders","pendingOrders","setPendingOrders","inProgressOrders","setInProgressOrders","readyOrders","setReadyOrders","restaurantId","id","fetch","then","res","json","status","name","filter","titleContainer","HOME","displayOrdersColumns","map","order"],"mappings":"+KAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,cAA1B,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CAEA,MAAOC,CAAAA,YAAP,KAAyB,yBAAzB,CACA,OAASC,MAAT,CAAiBC,OAAjB,KAAgC,sBAAhC,CACA,OAASC,MAAT,KAAuB,wBAAvB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,OAASC,YAAT,CAAuBC,aAAvB,CAAsCC,gBAAtC,CAAwDC,WAAxD,KAA2E,iBAA3E,CACA,MAAOC,CAAAA,sBAAP,KAAmC,qCAAnC,CACA,MAAOC,CAAAA,iBAAP,KAA8B,gCAA9B,CAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CACxB,cAA4Cf,QAAQ,EAApD,wCAAOgB,cAAP,eAAuBC,iBAAvB,eACA,eAAkDjB,QAAQ,CAAC,KAAD,CAA1D,yCAAOkB,iBAAP,eAA0BC,oBAA1B,eACA,eAA0CnB,QAAQ,CAAC,KAAD,CAAlD,yCAAOoB,aAAP,eAAsBC,gBAAtB,eACA,eAAsCrB,QAAQ,CAAC,KAAD,CAA9C,yCAAOsB,WAAP,eAAoBC,cAApB,eAEA,eAAwCvB,QAAQ,CAAC,EAAD,CAAhD,0CAAOwB,YAAP,gBAAqBC,eAArB,gBACA,gBAA0CzB,QAAQ,CAAC,EAAD,CAAlD,2CAAO0B,aAAP,gBAAsBC,gBAAtB,gBACA,gBAAgD3B,QAAQ,CAAC,EAAD,CAAxD,2CAAO4B,gBAAP,gBAAyBC,mBAAzB,gBACA,gBAAsC7B,QAAQ,CAAC,EAAD,CAA9C,2CAAO8B,WAAP,gBAAoBC,cAApB,gBAEA,eAA6B7B,SAAS,EAAtC,CAAY8B,YAAZ,YAAQC,EAAR,CAGAhC,SAAS,CAAC,UAAM,CACZiC,KAAK,8CAAuCF,YAAvC,EAAL,CACKG,IADL,CACU,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADV,EAEKF,IAFL,CAEU,SAACE,IAAD,CAAU,CACZ,GAAIA,IAAI,CAACC,MAAL,GAAgB,GAApB,CAAyB,CACrBf,cAAc,CAAC,IAAD,CAAd,CACAN,iBAAiB,CAAC,uCAAD,CAAjB,CACH,CAHD,IAGO,CACHA,iBAAiB,CAACoB,IAAI,CAACE,IAAN,CAAjB,CACApB,oBAAoB,CAAC,IAAD,CAApB,CACH,CACJ,CAVL,EAYAe,KAAK,8CAAuCF,YAAvC,aAAL,CACKG,IADL,CACU,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADV,EAEKF,IAFL,CAEU,SAACE,IAAD,CAAU,CACZ,GAAIA,IAAI,CAACC,MAAL,GAAgB,GAApB,CAAyB,CACrBf,cAAc,CAAC,IAAD,CAAd,CACAN,iBAAiB,CAAC,uCAAD,CAAjB,CACH,CAHD,IAGO,CACHQ,eAAe,CAACY,IAAI,CAACG,MAAL,CAAY/B,YAAZ,CAAD,CAAf,CACAkB,gBAAgB,CAACU,IAAI,CAACG,MAAL,CAAY9B,aAAZ,CAAD,CAAhB,CACAmB,mBAAmB,CAACQ,IAAI,CAACG,MAAL,CAAY7B,gBAAZ,CAAD,CAAnB,CACAoB,cAAc,CAACM,IAAI,CAACG,MAAL,CAAY5B,WAAZ,CAAD,CAAd,CACAS,gBAAgB,CAAC,IAAD,CAAhB,CACH,CACJ,CAbL,EAcA;AACH,CA5BQ,CA4BN,EA5BM,CAAT,CA8BA,MACIH,CAAAA,iBAAiB,cACb,4CACI,2BAAK,SAAS,CAAEV,MAAM,CAACiC,cAAvB,eACA,oBAAC,UAAD,EAAY,OAAO,CAAC,IAApB,CAAyB,SAAS,CAAC,IAAnC,EAAyCzB,cAAzC,CADA,cAEI,oBAAC,YAAD,EAAc,KAAK,CAAET,MAAM,CAACmC,IAA5B,EAFJ,CADJ,cAKI,4CACI,+BAAOtB,aAAD,cACF,2BAAK,SAAS,CAAEZ,MAAM,CAACmC,oBAAvB,eACI,4CACI,oBAAC,UAAD,EAAY,OAAO,CAAC,IAApB,CAAyB,KAAK,CAAC,QAA/B,0BADJ,CAEKf,gBAAgB,CAACgB,GAAjB,CAAqB,SAAAC,KAAK,qBACvB,oBAAC,sBAAD,EACI,KAAK,CAAEA,KADX,EADuB,EAA1B,CAFL,CADJ,cASI,4CACA,oBAAC,UAAD,EAAY,OAAO,CAAC,IAApB,CAAyB,KAAK,CAAC,QAA/B,qBADA,CAEKf,WAAW,CAACc,GAAZ,CAAgB,SAAAC,KAAK,qBAClB,oBAAC,iBAAD,EACI,KAAK,CAAEA,KADX,EADkB,EAArB,CAFL,CATJ,CADE,cAuBF,+EAvBJ,CADJ,CALJ,CADa,cAqCb,2EAtCR,CAyCH,CArFD,CAuFA,cAAe9B,CAAAA,aAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router\";\nimport Typography from '@mui/material/Typography';\n\nimport GoBackButton from \"../../components/GoBack\";\nimport { apiGet, apiPost } from \"../../utils/services\";\nimport { ROUTES } from \"../../constants/routes\";\n\nimport styles from \"./styles.module.scss\";\nimport { deniedFilter, pendingFilter, inProgressFilter, readyFilter } from \"./utils/filters\";\nimport DisplayOrderInProgress from \"./components/DisplayOrderInProgress\";\nimport DisplayOrderReady from \"./components/DisplayOrderReady\";\n\nconst CurrentOrders = () => {\n    const [restaurantName, setRestaurantName] = useState();\n    const [restaurantLoading, setRestaurantLoading] = useState(false);\n    const [ordersLoading, setOrdersLoading] = useState(false);\n    const [statusError, setStatusError] = useState(false);\n\n    const [deniedOrders, setDeniedOrders] = useState([]);\n    const [pendingOrders, setPendingOrders] = useState([]);\n    const [inProgressOrders, setInProgressOrders] = useState([]);\n    const [readyOrders, setReadyOrders] = useState([]);\n\n    const { id: restaurantId } = useParams();\n\n\n    useEffect(() => {\n        fetch(`http://localhost:8080/restaurantes/${restaurantId}`)\n            .then((res) => res.json())\n            .then((json) => {\n                if (json.status === 404) {\n                    setStatusError(true);\n                    setRestaurantName(\"Su restaurante no ha sido encontrado.\");\n                } else {\n                    setRestaurantName(json.name);\n                    setRestaurantLoading(true)\n                }\n            });\n\n        fetch(`http://localhost:8080/restaurantes/${restaurantId}/pedidos`)\n            .then((res) => res.json())\n            .then((json) => {\n                if (json.status === 404) {\n                    setStatusError(true);\n                    setRestaurantName(\"Su restaurante no ha sido encontrado.\");\n                } else {\n                    setDeniedOrders(json.filter(deniedFilter))\n                    setPendingOrders(json.filter(pendingFilter))\n                    setInProgressOrders(json.filter(inProgressFilter))\n                    setReadyOrders(json.filter(readyFilter))\n                    setOrdersLoading(true)\n                }\n            });\n        // apiGet(`http://localhost:8080/restaurantes/${restaurantId}`)\n    }, []);\n\n    return (\n        restaurantLoading ? (\n            <div>\n                <div className={styles.titleContainer}>\n                <Typography variant=\"h3\" component=\"h1\">{restaurantName}</Typography>\n                    <GoBackButton route={ROUTES.HOME} />\n                </div>\n                <div>\n                    <div>{(ordersLoading) ? (\n                        <div className={styles.displayOrdersColumns}>\n                            <div>\n                                <Typography variant=\"h5\" align=\"center\"> Pedidos en progreso </Typography>\n                                {inProgressOrders.map(order => (\n                                    <DisplayOrderInProgress\n                                        order={order}\n                                    />\n                                ))}\n                            </div>\n                            <div>\n                            <Typography variant=\"h5\" align=\"center\" > Pedidos listos </Typography>\n                                {readyOrders.map(order => (\n                                    <DisplayOrderReady\n                                        order={order}\n                                    />\n                                ))}\n                            </div>\n\n                        </div>\n\n\n                    ) : (\n                        <p>Recuperando información de pedidos en curso.</p>\n                    )}\n                    </div>\n                </div>\n            </div>\n\n        ) : (\n            <p>Recuperando información del restaurante.</p>\n        )\n    )\n}\n\nexport default CurrentOrders"]},"metadata":{},"sourceType":"module"}