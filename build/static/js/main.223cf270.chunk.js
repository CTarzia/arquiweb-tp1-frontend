(this["webpackJsonpreact-frontend"]=this["webpackJsonpreact-frontend"]||[]).push([[0],{107:function(e,t,a){e.exports={title:"styles_title__1OFvA",button:"styles_button__2zlNu"}},131:function(e,t,a){e.exports={button:"styles_button__2kTXl"}},161:function(e,t,a){e.exports=a(183)},166:function(e,t,a){},183:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(40),c=a.n(o),s=a(245),l=(a(166),a(4)),i=a(16),u=a(14),m="/",d="/login",b="/signup",p="/backoffice",h="/backoffice/restaurante",f="/backoffice/pedidos",E="/backoffice/mesas",_="/restaurante/:restoId/:tableId/welcomeTable",v="/estado_del_pedido",O="/restaurante/:id/hacer_pedido",j="/restaurante/:id/pedidos_en_curso",y="/restaurante/:id/pedidos_pendientes",N="/menu/:restoId",g="/restaurantes_cercanos",C=a(64),S=a.n(C),k=function(){return r.a.createElement("div",{className:S.a.container},r.a.createElement("div",{className:S.a.title},r.a.createElement("h1",null," \xa1Bienvenido a Ver la Carta! ")),r.a.createElement("div",{className:S.a.buttonsContainer},r.a.createElement(i.b,{to:g},r.a.createElement("button",{className:S.a.button},"Ver restaurantes cercanos")),r.a.createElement(i.b,{to:v},r.a.createElement("button",{className:S.a.button},"Ver estado de pedido"))))},w=a(5),I=a(18),x=a(261),R=Object(n.createContext)({userId:null,setUserId:function(){},userName:function(){},setUserName:function(){},restaurantId:null,setRestaurantId:function(){},restaurant:{},setRestaurant:function(){}}),B=a(129),T=a.n(B),P=a(126),U=a.n(P),D=a(65),J=a.n(D),H=function(e){var t=e.onChangePassword,a=Object(n.useState)(!1),o=Object(l.a)(a,2),c=o[0],s=o[1];return r.a.createElement("div",{className:J.a.input},r.a.createElement("label",{className:J.a.label},"Contrase\xf1a:"),r.a.createElement("input",{type:c?"text":"password",name:"password",id:"password",onChange:t}),r.a.createElement("div",{onClick:function(){return s(!c)},className:J.a.iconContainer},c?r.a.createElement(U.a,{className:J.a.icon}):r.a.createElement(T.a,{className:J.a.icon})))},G=a(43),V=a.n(G),L=function(e){var t=e.history,a=Object(n.useContext)(R),o=a.setUserId,c=a.setUserName,s=a.setRestaurantId,u=Object(n.useState)(!1),m=Object(l.a)(u,2),d=m[0],h=m[1],f=Object(n.useState)({username:"",password:""}),E=Object(l.a)(f,2),_=E[0],v=E[1],O=function(e){e.preventDefault(),h(!0),fetch("https://ver-la-carta.herokuapp.com/usuarios/".concat(_.username,"/").concat(_.password)).then((function(e){return e.json()})).then((function(e){s(e.restaurantId),o(e.id),c(e.username),h(!1),t.push(p)}))},j=function(e){var t=e.target,a=t.id,n=t.value;v((function(e){return Object(I.a)(Object(I.a)({},e),{},Object(w.a)({},a,n))}))};return r.a.createElement("div",{className:V.a.container},r.a.createElement("div",{className:V.a.title},r.a.createElement("h1",null," Bienvenido ")),r.a.createElement("form",{onSubmit:O,className:V.a.form},r.a.createElement("div",{className:V.a.input},r.a.createElement("label",{className:V.a.label},"Nombre de usuario:"),r.a.createElement("input",{type:"text",name:"username",id:"username",onChange:j})),r.a.createElement(H,{onChangePassword:j}),r.a.createElement("button",{className:d?V.a.disabledButton:V.a.button,onClick:O,disabled:d},d?r.a.createElement(x.a,{classes:{root:V.a.progress}}):"Iniciar sesion"),r.a.createElement(i.b,{to:b},r.a.createElement("button",{className:V.a.button},"Crear usuario"))))},z=a(248),A=a(246),M=a(44),X=a.n(M),W=function(e){var t=e.history,a=Object(n.useState)({username:"",password:""}),o=Object(l.a)(a,2),c=o[0],s=o[1],u=Object(n.useState)({latitude:null,longitude:null}),m=Object(l.a)(u,2),b=m[0],p=m[1],h=Object(n.useState)({isOpen:!1,message:""}),f=Object(l.a)(h,2),E=f[0],_=f[1],v=Object(n.useState)(!1),O=Object(l.a)(v,2),j=O[0],y=O[1],N=function(e){var t,a;return p({latitude:null===e||void 0===e||null===(t=e.coords)||void 0===t?void 0:t.latitude.toString(),longitude:null===e||void 0===e||null===(a=e.coords)||void 0===a?void 0:a.longitude.toString()})};Object(n.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(N)}),[]);var g=function(e){e.preventDefault(),y(!0);var t=Object(I.a)({name:"Restaurante nuevo"},b);fetch("https://ver-la-carta.herokuapp.com/restaurantes/",{method:"POST",body:JSON.stringify(Object(I.a)({},t)),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){fetch("https://ver-la-carta.herokuapp.com/usuarios/",{method:"POST",body:JSON.stringify(Object(I.a)(Object(I.a)({},c),{},{restaurantId:e.id})),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),_({isOpen:!0,message:"Su usuario se ha creado con exito"}),y(!1)}))}))},C=function(e){var t=e.target,a=t.id,n=t.value;s((function(e){return Object(I.a)(Object(I.a)({},e),{},Object(w.a)({},a,n))}))};return r.a.createElement("div",{className:X.a.container},r.a.createElement("div",{className:X.a.title},r.a.createElement("h1",null," Crear usuario ")),r.a.createElement("form",{onSubmit:g,className:X.a.form},r.a.createElement("div",{className:X.a.input},r.a.createElement("label",{className:X.a.label},"Nombre de usuario:"),r.a.createElement("input",{type:"text",name:"username",id:"username",onChange:C})),r.a.createElement(H,{onChangePassword:C}),r.a.createElement("button",{className:j?X.a.disabledButton:X.a.button,onClick:g,disabled:j},j?r.a.createElement(x.a,{classes:{root:X.a.progress}}):"Crear usuario"),r.a.createElement(i.b,{to:d},r.a.createElement("button",{className:X.a.button},"Iniciar Sesion"))),r.a.createElement(z.a,{open:E.isOpen,autoHideDuration:3e3,onClose:function(){_({isOpen:!1,message:"Su usuario se ha creado con exito: Redirigiendo"}),t.push(d)}},r.a.createElement(A.a,{severity:"success",sx:{width:"100%"},variant:"filled"},E.message)))},F=a(86),Q=a(87),Y=a(74),Z=a(141),K=a(139),q=function(e){var t=e.handleSubmit,a=e.handleChange,n=e.inputValue,o=e.order,c=e.showError;return r.a.createElement("div",null,r.a.createElement("h1",null," Estado de Pedido "),r.a.createElement("form",{onSubmit:t},r.a.createElement("label",null,"Numero de pedido:",r.a.createElement("input",{type:"text",value:n,onChange:a})),r.a.createElement("input",{type:"submit",value:"Buscar Pedido"})),c&&r.a.createElement("p",null,"Pedido no encontrado, revise la informacion ingresada e intentelo de nuevo."),o&&!c&&r.a.createElement("p",null,"Numero de pedido: ",o.orderId,", Contenido: ",o.content,", Estado:",o.status))},$=function(e){Object(Z.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(F.a)(this,a),(n=t.call(this,e)).state={order:String,dataisLoaded:!1},n.handleChange=n.handleChange.bind(Object(Y.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(Y.a)(n)),n}return Object(Q.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;fetch("https://ver-la-carta.herokuapp.com/orders/"+this.state.value).then((function(e){return e.json()})).then((function(e){t.setState({order:e,dataisLoaded:!0})})),e.preventDefault()}},{key:"render",value:function(){var e=this.state,t=e.dataisLoaded,a=e.order,n="404"===a.status;return t?r.a.createElement("p",null," Recuperando informacion del pedido "):r.a.createElement(q,{handleSubmit:this.handleSubmit,handleChange:this.handleChange,inputValue:this.state.value,showError:n,order:a})}}]),a}(r.a.Component),ee=a(132),te=a.n(ee),ae=a(131),ne=a.n(ae),re=function(e){var t=e.route;return r.a.createElement(i.b,{to:t},r.a.createElement("button",{className:ne.a.button},r.a.createElement(te.a,null)))},oe=a(94),ce=a.n(oe),se=a(265),le=a(253),ie=a(254),ue=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(),s=Object(l.a)(c,2),i=s[0],d=s[1],b=Object(n.useState)(!1),p=Object(l.a)(b,2),h=(p[0],p[1]),f=Object(n.useState)(!1),E=Object(l.a)(f,2),_=E[0],v=E[1],O=Object(n.useState)(),j=Object(l.a)(O,2),y=j[0],N=j[1],g=Object(u.g)().restoId,C=Object(u.g)().tableId;Object(n.useEffect)((function(){fetch("https://ver-la-carta.herokuapp.com/restaurantes/".concat(g)).then((function(e){return e.json()})).then((function(e){404===e.status?(h(!0),o("Su restaurante no ha sido encontrado.")):(o(e.name),v(!0))})),fetch("https://ver-la-carta.herokuapp.com/mesas/".concat(g,"/").concat(C)).then((function(e){return e.json()})).then((function(e){404===e.status?(h(!0),o("Su mesa no ha sido encontrado.")):(d(e),v(!0),N(!e.calling_server))}))}),[]);return _?r.a.createElement("div",null,r.a.createElement("div",{className:ce.a.titleContainer},r.a.createElement(se.a,{variant:"h3",component:"h1"},a),r.a.createElement(re,{route:m})),r.a.createElement(se.a,{variant:"h5",className:ce.a.subtitle},"Mesa ",C),r.a.createElement("div",{className:ce.a.displayButtonsColumn},r.a.createElement(le.a,{orientation:"vertical",align:"center"},r.a.createElement(ie.a,{variant:"text",href:"/menu/".concat(g,"?mesa=").concat(C)},"Ver carta"),r.a.createElement(ie.a,{color:"primary",variant:"text",href:"/restaurante/".concat(g,"/hacer_pedido?mesa=").concat(C)},"Hacer pedido"),r.a.createElement(ie.a,{onClick:function(){fetch("https://ver-la-carta.herokuapp.com/mesas/".concat(g,"/").concat(C,"/server"),{method:"PUT",body:JSON.stringify({}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){d(e),N(i.calling_server),!0===y?window.alert("mozo llamado"):window.alert("mozo liberado")}))},color:y?"primary":"secondary",variant:y?"text":"contained"},y?"LLamar mozo":"Liberar mozo")))):r.a.createElement("p",null,"Recuperando informaci\xf3n del restaurante.")},me=a(78),de=a.n(me),be=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!1),s=Object(l.a)(c,2),i=(s[0],s[1]),m=Object(n.useState)(!1),d=Object(l.a)(m,2),b=d[0],p=d[1],h=Object(n.useState)(),f=Object(l.a)(h,2),E=f[0],_=f[1],v=Object(n.useState)(!1),O=Object(l.a)(v,2),j=O[0],y=O[1],N=Object(u.g)().restoId,C=Object(u.f)().search,S=new URLSearchParams(C).get("mesa");function k(e){var t=new Blob([e],{type:"application/pdf"}),a=window.URL.createObjectURL(t);document.createElement("a").href=a,_(a),y(!0)}return Object(n.useEffect)((function(){fetch("https://ver-la-carta.herokuapp.com/restaurantes/".concat(N)).then((function(e){return e.json()})).then((function(e){404===e.status?(i(!0),o("Su restaurante no ha sido encontrado.")):(o(e.name),p(!0))})),fetch("https://ver-la-carta.herokuapp.com/carta/".concat(N),{responseType:"blob"}).then((function(e){return e.blob()})).then(k)}),[]),b?j?r.a.createElement("div",null,r.a.createElement("div",{className:de.a.titleContainer},r.a.createElement(se.a,{variant:"h3",component:"h1"},a),r.a.createElement(re,{route:g})),r.a.createElement(se.a,{variant:"h5",className:de.a.subtitle},"Menu"),r.a.createElement("div",{className:de.a.menuButton},r.a.createElement("object",{data:E,type:"application/pdf",width:"60%",height:"500px"}),r.a.createElement(ie.a,{variant:"text",href:S?"/restaurante/".concat(N,"/hacer_pedido?mesa=").concat(S):"/restaurante/".concat(N,"/hacer_pedido"),className:de.a.submitButton},"Hacer pedido"))):r.a.createElement("div",null,"recuperando menu del restaurante"):r.a.createElement("div",null,"Recuperando informaci\xf3n del restaurante.")},pe=a(62),he=a.n(pe),fe=a(258),Ee=a(259),_e=a(255),ve=a(252),Oe=function(e){var t=e.order,a=r.a.useState(!1),n=Object(l.a)(a,2),o=n[0],c=n[1];return r.a.createElement("div",null,r.a.createElement(ie.a,{onClick:function(){c(!0)}},"Ver pedido"),r.a.createElement(_e.a,{onClose:function(e){c(!1)},open:o},r.a.createElement(ve.a,null,"Contenido del pedido: "),r.a.createElement(se.a,{variant:"h6",align:"center"},t.content)))},je=function(e){var t=e.order;return r.a.createElement("div",{className:he.a.cardColumns},r.a.createElement(fe.a,null,r.a.createElement(Ee.a,{className:he.a.cards},r.a.createElement("div",null,"Orden ",t.orderId,t.clientName?r.a.createElement(se.a,null,"Nombre del cliente: ",t.clientName):r.a.createElement(se.a,null,"N\xfamero de mesa: ",t.tableNumber),r.a.createElement("div",{class:"btn-group"},r.a.createElement(Oe,{order:t}),r.a.createElement(ie.a,{onClick:function(){window.location.reload(!1),fetch("https://ver-la-carta.herokuapp.com/orders/".concat(t.orderId),{method:"PUT",body:JSON.stringify({status:"PROGRESS",content:t.content}),headers:{"Content-Type":"application/json"}})}},"aceptar"),r.a.createElement(ie.a,{onClick:function(){window.location.reload(!1),fetch("https://ver-la-carta.herokuapp.com/orders/".concat(t.orderId),{method:"PUT",body:JSON.stringify({status:"DENIED",content:t.content}),headers:{"Content-Type":"application/json"}}),fetch("https://ver-la-carta.herokuapp.com/mesas/".concat(t.restoId,"/").concat(t.tableNumber,"/status"),{method:"PUT",body:JSON.stringify({}),headers:{"Content-Type":"application/json"}})}},"rechazar"))))))};function ye(e){return"PENDING"===e.status}var Ne=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!1),s=Object(l.a)(c,2),i=s[0],d=s[1],b=Object(n.useState)(!1),p=Object(l.a)(b,2),h=(p[0],p[1]),f=Object(n.useState)([]),E=Object(l.a)(f,2),_=E[0],v=E[1],O=Object(u.g)().id,j=Object(n.useState)(!1),y=Object(l.a)(j,2),N=y[0],g=y[1];return Object(n.useEffect)((function(){fetch("https://ver-la-carta.herokuapp.com/restaurantes/".concat(O)).then((function(e){return e.json()})).then((function(e){404===e.status?(h(!0),o("Su restaurante no ha sido encontrado.")):(o(e.name),d(!0))})),fetch("https://ver-la-carta.herokuapp.com/restaurantes/".concat(O,"/pedidos")).then((function(e){return e.json()})).then((function(e){404===e.status?(h(!0),o("Su restaurante no ha sido encontrado.")):(v(e.filter(ye)),g(!0))}))}),[]),i?r.a.createElement("div",null,r.a.createElement("div",{className:he.a.titleContainer},r.a.createElement(se.a,{variant:"h3",component:"h1"},a),r.a.createElement(re,{route:m})),r.a.createElement("div",null,N?r.a.createElement("div",{className:he.a.displayOrdersColumns},r.a.createElement("div",null,r.a.createElement(se.a,{variant:"h5",align:"center"}," Pedidos pendientes "),_.map((function(e){return r.a.createElement(je,{order:e})})))):r.a.createElement("p",null,"Recuperando informaci\xf3n de pedidos pendientes."))):r.a.createElement("p",null,"Recuperando informaci\xf3n del restaurante.")};a(106),a(133);var ge=a(52),Ce=a.n(ge);function Se(e){return"DENIED"===e.status}function ke(e){return"PENDING"===e.status}function we(e){return"PROGRESS"===e.status}function Ie(e){return"READY"===e.status}var xe=function(e){var t=e.order;return r.a.createElement("div",{className:Ce.a.displayOrder},r.a.createElement(fe.a,null,r.a.createElement(Ee.a,null,r.a.createElement(se.a,null,"Orden ",t.orderId),r.a.createElement("div",null,t.clientName?r.a.createElement(se.a,null,"Nombre del cliente: ",t.clientName):r.a.createElement(se.a,null,"N\xfamero de mesa: ",t.tableNumber)),r.a.createElement("div",{class:"btn-group"},r.a.createElement(Oe,{order:t}),r.a.createElement(ie.a,{onClick:function(){window.location.reload(!1),fetch("https://ver-la-carta.herokuapp.com/orders/".concat(t.orderId),{method:"PUT",body:JSON.stringify({status:"READY",content:t.content}),headers:{"Content-Type":"application/json"}})}},"Pedidio listo"),r.a.createElement(ie.a,{onClick:function(){window.location.reload(!1),fetch("https://ver-la-carta.herokuapp.com/orders/".concat(t.orderId),{method:"PUT",body:JSON.stringify({status:"DENIED",content:t.content}),headers:{"Content-Type":"application/json"}}),fetch("https://ver-la-carta.herokuapp.com/mesas/".concat(t.restoId,"/").concat(t.tableNumber,"/status"),{method:"PUT",body:JSON.stringify({}),headers:{"Content-Type":"application/json"}})}},"Rechazar")))))},Re=a(266),Be=a(58),Te=a.n(Be),Pe=a(243),Ue=function(e){var t=e.order;return r.a.createElement("div",{className:Ce.a.displayOrder},r.a.createElement("div",null,r.a.createElement(fe.a,null,r.a.createElement(Ee.a,null,r.a.createElement(se.a,null,"Orden ",t.orderId),r.a.createElement("div",null,t.clientName?r.a.createElement(se.a,null,"Nombre del cliente: ",t.clientName):r.a.createElement(se.a,null,"N\xfamero de mesa: ",t.tableNumber)),r.a.createElement("div",{class:"btn-group"},r.a.createElement(Oe,{order:t}),r.a.createElement(ie.a,{onClick:function(){window.location.reload(!1),fetch("https://ver-la-carta.herokuapp.com/orders/".concat(t.orderId),{method:"PUT",body:JSON.stringify({status:"PROGRESS",content:t.content}),headers:{"Content-Type":"application/json"}})}},"IN PROGRESS"),r.a.createElement(Pe.a,{title:"Eliminar pedido"},r.a.createElement(Re.a,{"aria-label":"delete",onClick:function(){window.location.reload(!1),fetch("https://ver-la-carta.herokuapp.com/orders/".concat(t.orderId),{method:"DELETE",headers:{"Content-Type":"application/json"}}),fetch("https://ver-la-carta.herokuapp.com/mesas/".concat(t.restoId,"/").concat(t.tableNumber,"/status"),{method:"PUT",body:JSON.stringify({}),headers:{"Content-Type":"application/json"}})}},r.a.createElement(Te.a,null))))))))},De=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!1),s=Object(l.a)(c,2),i=s[0],d=s[1],b=Object(n.useState)(!1),p=Object(l.a)(b,2),h=p[0],f=p[1],E=Object(n.useState)(!1),_=Object(l.a)(E,2),v=(_[0],_[1]),O=Object(n.useState)([]),j=Object(l.a)(O,2),y=(j[0],j[1]),N=Object(n.useState)([]),g=Object(l.a)(N,2),C=(g[0],g[1]),S=Object(n.useState)([]),k=Object(l.a)(S,2),w=k[0],I=k[1],x=Object(n.useState)([]),R=Object(l.a)(x,2),B=R[0],T=R[1],P=Object(u.g)().id;return Object(n.useEffect)((function(){fetch("https://ver-la-carta.herokuapp.com/restaurantes/".concat(P)).then((function(e){return e.json()})).then((function(e){404===e.status?(v(!0),o("Su restaurante no ha sido encontrado.")):(o(e.name),d(!0))})),fetch("https://ver-la-carta.herokuapp.com/restaurantes/".concat(P,"/pedidos")).then((function(e){return e.json()})).then((function(e){404===e.status?(v(!0),o("Su restaurante no ha sido encontrado.")):(y(e.filter(Se)),C(e.filter(ke)),I(e.filter(we)),T(e.filter(Ie)),f(!0))}))}),[]),i?r.a.createElement("div",null,r.a.createElement("div",{className:Ce.a.titleContainer},r.a.createElement(se.a,{variant:"h3",component:"h1"},a),r.a.createElement(re,{route:m})),r.a.createElement("div",null,r.a.createElement("div",null,h?r.a.createElement("div",{className:Ce.a.displayOrdersColumns},r.a.createElement("div",null,r.a.createElement(se.a,{variant:"h5",align:"center"}," ","Pedidos en progreso"," "),w.map((function(e){return r.a.createElement(xe,{order:e})}))),r.a.createElement("div",null,r.a.createElement(se.a,{variant:"h5",align:"center"}," ","Pedidos listos"," "),B.map((function(e){return r.a.createElement(Ue,{order:e})})))):r.a.createElement("p",null,"Recuperando informaci\xf3n de pedidos en curso.")))):r.a.createElement("p",null,"Recuperando informaci\xf3n del restaurante.")},Je=a(75),He=a.n(Je),Ge=a(244),Ve=function(e){var t=e.handleSubmit,a=e.handleOnInputChange,n=e.tableNumber;return r.a.createElement("form",{onSubmit:t,className:He.a.form},n?r.a.createElement(se.a,{variant:"h5"},"Usted est\xe1 en la mesa ",n,"."):r.a.createElement("div",null,r.a.createElement(se.a,{variant:"h6"},"Ingrese su nombre:"),r.a.createElement(Ge.a,{name:"clientName",label:"Ingrese su nombre",variant:"outlined",onChange:a})),r.a.createElement("div",null,r.a.createElement(se.a,{cariant:"h6"},"Ingrese su pedido:"),r.a.createElement(Ge.a,{name:"content",label:"Ingrese su pedido",variant:"outlined",onChange:a})),r.a.createElement(ie.a,{type:"submit",className:He.a.submitButton},"Enviar pedido"))},Le=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!0),s=Object(l.a)(c,2),i=s[0],m=s[1],d=Object(n.useState)(!1),b=Object(l.a)(d,2),p=b[0],h=b[1],f=Object(u.g)().id,E=Object(u.f)().search,_=new URLSearchParams(E).get("mesa"),v=new URLSearchParams(E).get("nombre");Object(n.useEffect)((function(){fetch("https://ver-la-carta.herokuapp.com/mesas/".concat(f,"/").concat(_)).then((function(e){return e.json()})).then((function(e){console.log(p),e.status&&h(e.status)}))}),[]);return i?r.a.createElement("div",null,r.a.createElement("div",{className:He.a.titleContainer},r.a.createElement(se.a,{variant:"h3",component:"h1"},v),r.a.createElement(re,{route:g})),r.a.createElement(Ve,{handleSubmit:function(e){if(e.preventDefault(),m(!1),p)m(!0),window.alert("no puede realizar mas de un pedido");else{var t=_?"table":"client",n=a;_&&(n=Object(I.a)(Object(I.a)({},a),{},{tableNumber:_})),console.log(typeof p),fetch("https://ver-la-carta.herokuapp.com/orders/".concat(t,"/").concat(f),{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){m(!0),_?window.alert("Su pedido ha sido enviado."):window.alert("Su pedido ha sido enviado. Su n\xfamero de pedido es: ".concat(e,"."))})),fetch("https://ver-la-carta.herokuapp.com/mesas/".concat(f,"/").concat(_,"/status"),{method:"PUT",body:JSON.stringify({}),headers:{"Content-Type":"application/json"}})}window.location.reload()},handleOnInputChange:function(e){o(Object(I.a)(Object(I.a)({},a),{},Object(w.a)({},e.target.name,e.target.value)))},tableNumber:_})):r.a.createElement("p",null,"Enviando su pedido.")},ze=a(134),Ae=a.n(ze),Me=a(135),Xe=a.n(Me),We=a(79),Fe=a.n(We),Qe=function(e){var t=e.withGoBack,a=e.title,o=e.history,c=Object(n.useContext)(R),s=c.setUserId,l=c.setUserName,u=c.setRestaurantId,m=c.setRestaurant;return r.a.createElement("div",{className:Fe.a.title},r.a.createElement("h1",null," ",a," "),r.a.createElement("div",{className:Fe.a.content},t&&r.a.createElement(i.b,{to:p},r.a.createElement("button",{className:Fe.a.button},r.a.createElement(Ae.a,null))),r.a.createElement("button",{onClick:function(){s(null),l(null),u(null),m({}),o.push(d)},className:Fe.a.button},r.a.createElement(Xe.a,null))))},Ye=a(15),Ze=(a(256),a(263),a(250),a(136),a(25)),Ke=a.n(Ze),qe=(a(137),a(80)),$e=a.n(qe),et=a(19),tt=a.n(et),at=function(e){var t=e.restaurant,a=e.handleEdit,n=e.handleEditAddress;return r.a.createElement("div",{className:tt.a.informationContainer},r.a.createElement("span",{className:tt.a.informationTitle},"Informacion General:"),r.a.createElement("div",{className:tt.a.information},r.a.createElement("div",{className:tt.a.informationName},r.a.createElement("li",{className:tt.a.bullet})," ","Nombre: ".concat(t.name)),r.a.createElement("button",{className:tt.a.iconButton,onClick:function(){return a("name")}},r.a.createElement($e.a,{classes:tt.a.icon}))),r.a.createElement("div",{className:tt.a.information},r.a.createElement("div",{className:tt.a.informationName},r.a.createElement("li",{className:tt.a.bullet}),"Horarios: ".concat(t.workingHours||"-")),r.a.createElement("button",{className:tt.a.iconButton,onClick:function(){return a("workingHours")}},r.a.createElement($e.a,{classes:tt.a.icon}))),r.a.createElement("div",{className:tt.a.information},r.a.createElement("div",{className:tt.a.informationName},r.a.createElement("li",{className:tt.a.bullet}),"Contacto: ".concat(t.phoneNumber||"-")),r.a.createElement("button",{className:tt.a.iconButton,onClick:function(){return a("phoneNumber")}},r.a.createElement($e.a,{classes:tt.a.icon}))),r.a.createElement("div",{className:tt.a.information},r.a.createElement("div",{className:tt.a.informationName},r.a.createElement("li",{className:tt.a.bullet}),"Direccion: LAT:".concat(t.latitude,";LON:").concat(t.longitude)),r.a.createElement("button",{className:tt.a.iconButton,onClick:function(){return n()}},r.a.createElement($e.a,{classes:tt.a.icon}))))},nt=function(e){var t=e.history,a=Object(n.useContext)(R),o=a.userId,c=a.restaurantId,s=a.restaurant,i=(a.setRestaurant,Object(n.useState)()),u=Object(l.a)(i,2),m=u[0],b=u[1],p=Object(n.useState)({name:s.name,workingHours:s.workingHours,phoneNumber:s.phoneNumber,latitude:s.latitude,longitude:s.longitude}),h=Object(l.a)(p,2),f=(h[0],h[1]),E=Object(n.useState)(!1),_=Object(l.a)(E,2),v=_[0],O=_[1];Object(n.useEffect)((function(){o&&c||t.push(d)}),[]);var j=function(e){e.preventDefault(),O(!0)};console.log(s);return r.a.createElement("div",{className:Ke.a.container},r.a.createElement(Qe,{title:"Gestionar: ".concat(s.name),history:t,withGoBack:!0}),r.a.createElement("div",{className:Ke.a.content},r.a.createElement(at,{restaurant:s,handleEdit:function(e){return b(e)},handleEditAddress:function(){return console.log("address")}}),r.a.createElement(_e.a,{open:m,onClose:function(){return b(null)}},r.a.createElement(ve.a,null,"Editar informacion"),r.a.createElement("form",{onSubmit:j,className:Ke.a.form},r.a.createElement("div",{className:Ke.a.input},r.a.createElement("input",{type:"text",name:m,id:m,onChange:function(e){var t=e.target,a=t.id,n=t.value;f((function(e){return Object(I.a)(Object(I.a)({},e),{},Object(w.a)({},a,n))}))},placeholder:s[m]})),r.a.createElement("button",{className:v?Ke.a.disabledButton:Ke.a.button,onClick:j,disabled:v},v?r.a.createElement(x.a,{classes:{root:Ke.a.progress}}):"Aceptar")))))},rt=a(240),ot=a(260),ct=a(241),st=a(242),lt=a(107),it=a.n(lt),ut=function(e){var t=e.returnRoute,a=e.title;return r.a.createElement("div",{className:it.a.title},r.a.createElement("h1",null," ",a," "),r.a.createElement(i.b,{to:t},r.a.createElement("button",{className:it.a.button}," Volver ")))},mt=a(90),dt=a.n(mt),bt=a(91),pt=a.n(bt),ht=a(38),ft=a.n(ht),Et=function(e){var t=e.restaurant,a=e.handleClick;return r.a.createElement("div",{className:ft.a.container},r.a.createElement("span",{className:ft.a.name}," ",t.name," "),r.a.createElement("div",{className:ft.a.infoContainer},r.a.createElement(dt.a,{className:ft.a.icon}),r.a.createElement("span",{className:ft.a.label}," ",t.phoneNumber," ")),r.a.createElement("div",{className:ft.a.infoContainer},r.a.createElement(pt.a,{className:ft.a.icon}),r.a.createElement("span",{className:ft.a.label},t.workingHours," ")),0===t.appId&&r.a.createElement("button",{onClick:function(){return a(t)},className:ft.a.button},"Ver detalle"),2===t.appId&&r.a.createElement(i.b,{to:"/restaurante/".concat(t.id,"/hacer_pedido?appId=2")},r.a.createElement("button",{className:ft.a.button}," Hacer Pedido ")))},_t=a(262),vt=a(257),Ot=a(30),jt=a.n(Ot),yt=function(e){var t=e.restaurant,a=(e.isOpen,e.handleClose),o=Object(n.useState)(!1),c=Object(l.a)(o,2),s=c[0],u=c[1],m=Object(n.useState)([]),d=Object(l.a)(m,2),b=d[0],p=d[1];return Object(n.useEffect)((function(){if(t&&t.id){var e=function(e){fetch("https://ver-la-carta.herokuapp.com/imagen/".concat(e,"/")).then((function(e){return e.blob()})).then((function(t){var a=URL.createObjectURL(t);p((function(t){return[].concat(Object(Ye.a)(t),[{url:a,id:e}])})),u(!0)}))};fetch("https://ver-la-carta.herokuapp.com/imagen/resto/".concat(t.id,"/")).then((function(e){return e.json()})).then((function(t){t.map(e)}))}}),[t]),r.a.createElement("div",{className:jt.a.container},r.a.createElement("div",null,r.a.createElement("div",{className:jt.a.title},r.a.createElement("h2",null,null===t||void 0===t?void 0:t.name),r.a.createElement("button",{onClick:function(){p([]),a()},className:jt.a.closeButton},"X")),r.a.createElement("div",{className:jt.a.infoContainer},r.a.createElement(dt.a,{className:jt.a.icon}),r.a.createElement("span",{className:jt.a.label}," ",null===t||void 0===t?void 0:t.phoneNumber," ")),r.a.createElement("div",{className:jt.a.infoContainer},r.a.createElement(pt.a,{className:jt.a.icon}),r.a.createElement("span",{className:jt.a.label},null===t||void 0===t?void 0:t.workingHours," ")),r.a.createElement("div",null,s?r.a.createElement("div",null,r.a.createElement(_t.a,{sx:{width:330,height:280},cols:2,rowHeight:280},b.map((function(e){return r.a.createElement(vt.a,{key:e.url},r.a.createElement("img",{src:e.url,alt:e.id,loading:"lazy"}))})))):r.a.createElement("div",null,"Recuperando im\xe1genes de su restaurante..."))),r.a.createElement("div",{className:jt.a.buttonContainers},r.a.createElement(i.b,{to:"/menu/".concat(null===t||void 0===t?void 0:t.id)},r.a.createElement("button",{className:jt.a.button}," Ver Menu ")),r.a.createElement(i.b,{to:"/restaurante/".concat(null===t||void 0===t?void 0:t.id,"/hacer_pedido?nombre=").concat(null===t||void 0===t?void 0:t.name)},r.a.createElement("button",{className:jt.a.button}," Hacer Pedido "))))},Nt=a(95),gt=a.n(Nt),Ct=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)([]),s=Object(l.a)(c,2),i=s[0],u=s[1],d=Object(n.useState)([]),b=Object(l.a)(d,2),p=b[0],h=b[1],f=Object(n.useState)(),E=Object(l.a)(f,2),_=E[0],v=E[1],O=Object(n.useState)(!1),j=Object(l.a)(O,2),y=j[0],N=j[1];Object(n.useEffect)((function(){fetch("https://ver-la-carta.herokuapp.com/restaurantes/").then((function(e){return console.log(e),200===e.status?e.json():{error:"No se encontraron restaurantes"}})).then((function(e){e.error?console.log("error"):(console.log("hola"),o(e))})),fetch("https://virtserver.swaggerhub.com/adrian-castiglione/arquiweb-tp1/1.0.1/api/restaurants").then((function(e){return e.json()})).then((function(e){u(e.items)}))}),[]),Object(n.useEffect)((function(){h([].concat(Object(Ye.a)(a),Object(Ye.a)(i)))}),[a,i]);var g=function(e){v(e),N(!0)};return r.a.createElement("div",{className:gt.a.container},r.a.createElement(ut,{returnRoute:m,title:"Restaurantes cercanos"}),r.a.createElement("div",{className:gt.a.infoContainer},r.a.createElement(rt.a,{className:gt.a.map,center:[-34.603722,-58.381592],zoom:12,scrollWheelZoom:!0},r.a.createElement(ot.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),p.map((function(e){return r.a.createElement(ct.a,{position:[parseFloat(e.latitude),parseFloat(e.longitude)]},r.a.createElement(st.a,null,r.a.createElement(Et,{restaurant:e,handleClick:g})))}))),_&&y&&r.a.createElement(yt,{restaurant:_,isOpen:y&&_,handleClose:function(){return N(!1)}})))},St=a(53),kt=a.n(St),wt=function(e){var t=e.history,a=Object(n.useContext)(R),o=a.userId,c=a.restaurantId,s=a.restaurant,u=a.setRestaurant,m=Object(n.useState)(!1),b=Object(l.a)(m,2),p=b[0],_=b[1];return Object(n.useEffect)((function(){o&&c?(_(!0),fetch("https://ver-la-carta.herokuapp.com/restaurantes/".concat(c)).then((function(e){return e.json()})).then((function(e){u(e),_(!1)}))):t.push(d)}),[]),r.a.createElement("div",{className:kt.a.container},r.a.createElement(Qe,{title:s.name?"Bienvenido a ".concat(s.name,"!"):"Bienvenido!",history:t}),p?r.a.createElement(x.a,{classes:{root:kt.a.progress}}):r.a.createElement("div",{className:kt.a.buttonsContainer},r.a.createElement(i.b,{to:h},r.a.createElement("button",{className:kt.a.button},"Gestionar mi local")),r.a.createElement(i.b,{to:f},r.a.createElement("button",{className:kt.a.button},"Gestionar pedidos")),r.a.createElement(i.b,{to:E},r.a.createElement("button",{className:kt.a.button},"Gestionar mesas"))))},It=a(138),xt=a.n(It),Rt=a(66),Bt=a.n(Rt),Tt=function(){var e=Object(u.g)().id,t=Object(n.useState)([]),a=Object(l.a)(t,2),o=a[0],c=a[1];return Object(n.useEffect)((function(){fetch("https://ver-la-carta.herokuapp.com/mesas/".concat(e)).then((function(e){return e.json()})).then((function(e){404===e.status?console.log("error"):c([{table_number:5}])}))}),[e]),r.a.createElement("div",{className:Bt.a.container},r.a.createElement("div",{className:Bt.a.title},r.a.createElement("h1",null," Restaurantes cercanos "),r.a.createElement(i.b,{to:p},r.a.createElement("button",{className:Bt.a.button}," Volver "))),r.a.createElement("div",{className:Bt.a.content},o.map((function(t){return r.a.createElement("div",{className:Bt.a.table},"Numero de Mesa ".concat(t.table_number),r.a.createElement("div",null,r.a.createElement(xt.a,{value:"/restaurante/".concat(e,"/hacer_pedido?mesa=").concat(t.table_number)})))}))))};var Pt=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(),s=Object(l.a)(c,2),f=s[0],C=s[1],S=Object(n.useState)(),w=Object(l.a)(S,2),I=w[0],x=w[1],B=Object(n.useState)({}),T=Object(l.a)(B,2),P=T[0],U=T[1],D=Object(n.useMemo)((function(){return{userId:a,setUserId:o,userName:f,setUserName:C,restaurantId:I,setRestaurantId:x,restaurant:P,setRestaurant:U}}),[a,f,I,P]);return r.a.createElement(R.Provider,{value:D},r.a.createElement(i.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:m,component:k}),r.a.createElement(u.a,{exact:!0,path:d,component:L}),r.a.createElement(u.a,{exact:!0,path:b,component:W}),r.a.createElement(u.a,{exact:!0,path:p,component:wt}),r.a.createElement(u.a,{exact:!0,path:h,component:nt}),r.a.createElement(u.a,{exact:!0,path:O,component:Le}),r.a.createElement(u.a,{exact:!0,path:v,component:$}),r.a.createElement(u.a,{exact:!0,path:_,component:ue}),r.a.createElement(u.a,{exact:!0,path:N,component:be}),r.a.createElement(u.a,{exact:!0,path:j,component:De}),r.a.createElement(u.a,{exact:!0,path:y,component:Ne}),r.a.createElement(u.a,{exact:!0,path:g,component:Ct}),r.a.createElement(u.a,{exact:!0,path:E,component:Tt}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(182);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{injectFirst:!0},r.a.createElement(Pt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},19:function(e,t,a){e.exports={informationContainer:"styles_informationContainer__3T9Ny",informationTitle:"styles_informationTitle__toRJh",information:"styles_information__JRLvt",informationName:"styles_informationName__2AzKN",bullet:"styles_bullet__11cmp",iconButton:"styles_iconButton__1o5f9"}},25:function(e,t,a){e.exports={container:"styles_container__3Bj38",content:"styles_content__qX72h",managementSection:"styles_managementSection__Yb1kZ",info:"styles_info__3N_LZ",rectangleOfDeath:"styles_rectangleOfDeath__1YwX0",displayOrdersColumns:"styles_displayOrdersColumns__2jM-X",cardColumns:"styles_cardColumns__3_QRy",tableTitle:"styles_tableTitle__2Hdc9",tableAttributes:"styles_tableAttributes__2cHiN"}},30:function(e,t,a){e.exports={container:"styles_container__TmUCx",title:"styles_title__3dKfS",closeButton:"styles_closeButton__UaePO",infoContainer:"styles_infoContainer__1luJ8",icon:"styles_icon__3yZv2",label:"styles_label__2JYv9",button:"styles_button__vYZ50",buttonContainers:"styles_buttonContainers__as9M3"}},38:function(e,t,a){e.exports={container:"styles_container__1qXlS",name:"styles_name__3SX04",infoContainer:"styles_infoContainer__1avr8",icon:"styles_icon__3ui3Q",label:"styles_label__Ma1vn",button:"styles_button__2Q3aY"}},43:function(e,t,a){e.exports={button:"styles_button__2-MK2",disabledButton:"styles_disabledButton__2O_Fb",container:"styles_container__3O4Za",title:"styles_title__34AfG",form:"styles_form__17Nog",input:"styles_input__31alT",label:"styles_label__15T5C",progress:"styles_progress__hbx4W"}},44:function(e,t,a){e.exports={button:"styles_button__3sPG4",disabledButton:"styles_disabledButton__3NmBV",container:"styles_container__1gkIK",title:"styles_title__3BdC-",form:"styles_form__31vHG",input:"styles_input__2tlXk",label:"styles_label__3OE0O",progress:"styles_progress__1aaNk"}},52:function(e,t,a){e.exports={titleContainer:"styles_titleContainer__2J0df",form:"styles_form__1Wf8g",submitButton:"styles_submitButton__38Fmn",displayOrder:"styles_displayOrder__2Sokl",displayOrdersColumns:"styles_displayOrdersColumns__R_5Hj",modal:"styles_modal__3Nv2u","modal-content":"styles_modal-content__tGhX1",close:"styles_close__2gtQI"}},53:function(e,t,a){e.exports={button:"styles_button__1bo2G",container:"styles_container__2zBl1",title:"styles_title__1GuUC",buttonsContainer:"styles_buttonsContainer__12txV",progress:"styles_progress__1fzzh"}},62:function(e,t,a){e.exports={displayOrdersColumns:"styles_displayOrdersColumns__2CjkR",cardColumns:"styles_cardColumns__1rCRO"}},64:function(e,t,a){e.exports={button:"styles_button__23gPD",container:"styles_container__3tuzV",title:"styles_title__1QT10",buttonsContainer:"styles_buttonsContainer__2sJZp"}},65:function(e,t,a){e.exports={input:"styles_input__2FV4H",label:"styles_label__sYfrU",icon:"styles_icon__1ymMC",iconContainer:"styles_iconContainer__3idEQ"}},66:function(e,t,a){e.exports={map:"styles_map__1HDZg",title:"styles_title__SuvAr",button:"styles_button__3c9Eb",container:"styles_container__TK-69",infoContainer:"styles_infoContainer__2gWmH",table:"styles_table__3wWqd"}},75:function(e,t,a){e.exports={titleContainer:"styles_titleContainer__3IpQP",form:"styles_form__1gEup",submitButton:"styles_submitButton__2BjCa",displayOrder:"styles_displayOrder__3tCwc",displayOrdersColumns:"styles_displayOrdersColumns__13gI-",modal:"styles_modal__2yMDi","modal-content":"styles_modal-content__3DIj5",close:"styles_close__1XbQB"}},78:function(e,t,a){e.exports={table:"styles_table__Ndodn",menuButton:"styles_menuButton__1Rp0V"}},79:function(e,t,a){e.exports={title:"styles_title__38mPn",button:"styles_button__1g2nX"}},94:function(e,t,a){e.exports={displayButtonsColumn:"styles_displayButtonsColumn__2_WKf"}},95:function(e,t,a){e.exports={map:"styles_map__3sDVx",title:"styles_title__2uevo",button:"styles_button__uFWOj",container:"styles_container__2SyAV",infoContainer:"styles_infoContainer__2VUsI"}}},[[161,1,2]]]);
//# sourceMappingURL=main.223cf270.chunk.js.map